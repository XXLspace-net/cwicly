class ScrollDirection{constructor(t,l){this.$el=t,this.$elements=l,this.data=t===window?null:t.getAttribute("data-cc-scroll-direction"),this.scroller=this.data&&this.data.scroller?document.querySelector(this.data.scroller):window,this.details={},this.isScrolling=!1,this.scrollerData=this.createScroller(this.scroller),this.lastScrollY=this.scrollerData.scrollY(),this.events(),this.scrolling()}events(){this.scroller.addEventListener("scroll",this.handleScroll.bind(this,event))}handleScroll(t){this.isScrolling||(this.isScrolling=!0,this.scroller.requestAnimationFrame?this.scroller.requestAnimationFrame(this.scrolling.bind(this,t)):setTimeout(this.scrolling.bind(this,t),250))}scrolling(){var t=this.scrollerData.scrollY(),l=this.scrollerData.height(),s=this.scrollerData.scrollHeight();this.details.scrollY=t,this.details.lastScrollY=this.lastScrollY,this.details.direction=t>this.lastScrollY?"down":"up",this.details.distance=Math.abs(t-this.lastScrollY),this.details.isOutOfBounds=t<0||t+l>s,this.details.top=t<=0,this.details.bottom=t+l>=s,this.details.scrollPosition=t+l,this.details.scrollHeight=s,this.lastScrollY=t,this.update(),this.isScrolling=!1}update(){this.$elements&&Array.isArray(this.$elements)&&this.$elements.length&&this.$elements.forEach(t=>{let l=!0,s=!0;const e=t.getAttribute("data-cc-scroll-direction")?JSON.parse(t.getAttribute("data-cc-scroll-direction")):null;this.details.isOutOfBounds||(e&&(e.toleranceUp&&this.details.distance<e.toleranceUp&&(l=!1),e.toleranceDown&&this.details.distance<e.toleranceDown&&(s=!1)),!0!==this.frozen&&(this.details.top?Util.addClass(t,"cc-scrolld-top"):Util.removeClass(t,"cc-scrolld-top"),e&&e.offsetUp&&(this.details.scrollY<=e.offsetUp&&!this.details.top?Util.addClass(t,"cc-scrolld-top-offset"):Util.removeClass(t,"cc-scrolld-top-offset")),this.details.bottom?Util.addClass(t,"cc-scrolld-bottom"):Util.removeClass(t,"cc-scrolld-bottom"),e&&e.offsetDown&&(this.details.scrollPosition>=this.details.scrollHeight-e.offsetDown&&!this.details.bottom?Util.addClass(t,"cc-scrolld-bottom-offset"):Util.removeClass(t,"cc-scrolld-bottom-offset")),this.details.direction&&(!this.details.bottom&&"down"===this.details.direction&&s?(Util.addClass(t,"cc-scrolld-down"),Util.removeClass(t,"cc-scrolld-up")):!this.details.top&&"up"===this.details.direction&&l&&(Util.removeClass(t,"cc-scrolld-down"),Util.addClass(t,"cc-scrolld-up")),this.details.top&&Util.removeClass(t,"cc-scrolld-down"),this.details.bottom&&Util.removeClass(t,"cc-scrolld-up"))))})}isWindow(t){return t&&t.document&&this.isDocument(t.document)}isDocument(t){return 9===t.nodeType}createScroller(t){return this.isWindow(t)?this.windowScroller(t):this.elementScroller(t)}windowScroller(t){var l=t.document,s=l.body,e=l.documentElement;return{scrollHeight:function(){return Math.max(s.scrollHeight,e.scrollHeight,s.offsetHeight,e.offsetHeight,s.clientHeight,e.clientHeight)},height:function(){return t.innerHeight||e.clientHeight||s.clientHeight},scrollY:function(){return void 0!==t.pageYOffset?t.pageYOffset:(e||s.parentNode||s).scrollTop}}}elementScroller(t){return{scrollHeight:function(){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},height:function(){return Math.max(t.offsetHeight,t.clientHeight)},scrollY:function(){return t.scrollTop}}}}window.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll("[data-cc-scroll-direction]");if(t){const l=[];t.forEach(t=>{const s=t.getAttribute("data-cc-scrolld-parent");if(s){const l=document.querySelector(s);new ScrollDirection(l,t)}else l.push(t)}),new ScrollDirection(window,l)}});