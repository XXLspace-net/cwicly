!function(){"use strict";class t{constructor(t){this.nav=t,this.navWrapper=this.nav.querySelector(".cc-nav-wrapper"),this.dropdowns=this.nav.querySelectorAll(".cc-nav-dropdown"),this.navContent=this.nav.querySelector(".cc-nav-content"),this.state="desktop",this.animationDuration=this.nav.getAttribute("animation-duration")?1e3*parseFloat(this.nav.getAttribute("animation-duration")):400,this.modalDuration=this.nav.getAttribute("modal-duration")?1e3*parseFloat(this.nav.getAttribute("modal-duration")):400,this.enablePageScroll=!!t.getAttribute("enable-scroll"),this.placement=t.getAttribute("d-placement"),this.isOpen=!1,this.breakpoint=t.getAttribute("breakpoint"),this.modalType=t.getAttribute("modal"),this.modalToggle=this.nav.querySelector(".cc-nav-toggle"),this.modalToggleAnimation=this.modalToggle&&this.modalToggle.classList.contains("cc-hamburger"),this.modalToggleClose=this.nav.querySelector(".cc-nav-toggle--close"),this.modalToggleBack=this.nav.querySelector(".cc-nav-toggle--back"),this.modalSubToggleBack=this.nav.querySelector(".cc-nav-toggle--back--sub"),this.modalOverlay=this.nav.querySelector(".cc-nav-backdrop"),this.shiftKey=!1,this.handleResize=this.handleResize.bind(this),this.handleNav=this.handleNav.bind(this),this.handleLinkClick=this.handleLinkClick.bind(this),this.dropdownList=[],this.onKeydown=this.handleKey.bind(this),this.onFocus=this.onFocus.bind(this),this.focusToFocusable=this.focusToFocusable.bind(this),this.removeClass=this.removeClass.bind(this),this.didFocus=!1,this.init(),this.events(),this.dropdownList=[]}}window.cc_nav_open=function(t){const e=document.querySelectorAll("[data-show-nav]");e.length&&e.forEach((function(e){if(e===t.target||e.contains(t.target)){var i=e.getAttribute("data-show-nav")?e.getAttribute("data-show-nav"):null;if(i){const t=new CustomEvent("cc-nav",{detail:{navID:i,action:"toggle-open"}});document.dispatchEvent(t)}}}))},window.cc_nav_close=function(t){const e=document.querySelectorAll("[data-close-nav]");e.length&&e.forEach((function(e){if(e===t.target||e.contains(t.target)){var i=e.getAttribute("data-close-nav")?e.getAttribute("data-close-nav"):null;if(i){const t=new CustomEvent("cc-nav",{detail:{navID:i,action:"toggle-close"}});document.dispatchEvent(t)}}}))},window.cc_nav_toggle=function(t){const e=document.querySelectorAll("[data-toggle-nav]");e.length&&e.forEach((function(e){if(e===t.target||e.contains(t.target)){var i=e.getAttribute("data-toggle-nav")?e.getAttribute("data-toggle-nav"):null;if(i){const t=new CustomEvent("cc-nav",{detail:{navID:i,action:"toggle"}});document.dispatchEvent(t)}}}))},t.prototype.closeSublevels=function(t){this.nav.querySelectorAll(".cc-nav__submenu").forEach((e=>{const i=this.nav.querySelector('.cc-nav-dropdown[state="open"]'),n=i.querySelector('.cc-nav__submenu[state="open"]'),o=i.querySelector('.cc-nav__sublevels .cc-nav-dropdown__button[aria-expanded="true"]'),s=n?.closest(".cc-nav__section");this.isModal()&&"0s"!==window.getComputedStyle(this.navContent).transitionDuration&&"0s, 0s"!==window.getComputedStyle(this.navContent).transitionDuration?(this.nav.removeAttribute("sublevel"),o&&o.setAttribute("aria-expanded","false"),this.navContent.addEventListener("transitionend",this.toggleBackButton.bind(this,t,n,o,s),{once:!0})):(n?.removeAttribute("state"),s?.removeAttribute("subopen"),o?.setAttribute("aria-expanded","false"),this.nav.removeAttribute("sublevel"),this.toggleBackButton(t,n,o,s))}))},t.prototype.closeSublevelsWithoutEvent=function(){this.nav.querySelectorAll(".cc-nav__submenu").forEach((t=>{const e=this.nav.querySelector('.cc-nav-dropdown[state="open"]'),i=e?.querySelector('.cc-nav__submenu[state="open"]'),n=e?.querySelector('.cc-nav__sublevels .cc-nav-dropdown__button[aria-expanded="true"]'),o=i?.closest(".cc-nav__section");this.isModal()&&"0s"!==window.getComputedStyle(this.navContent).transitionDuration&&"0s, 0s"!==window.getComputedStyle(this.navContent).transitionDuration?(this.nav.removeAttribute("sublevel"),n&&n.setAttribute("aria-expanded","false")):(i?.removeAttribute("state"),o?.removeAttribute("subopen"),n?.setAttribute("aria-expanded","false"),this.nav.removeAttribute("sublevel"))}))},t.prototype.events=function(){document.addEventListener("focus",this.onFocus,!0),document.addEventListener("keydown",this.onKeydown,!0),this.navWrapper.addEventListener("click",this.handleLinkClick,!0),this.modalToggle&&this.modalToggle.addEventListener("click",this.handleClick.bind(this,this.modalToggleAnimation?"toggle":"toggle-open")),this.modalToggleClose&&this.modalToggleClose.addEventListener("click",this.handleClick.bind(this,"toggle-close")),this.modalOverlay.addEventListener("click",this.handleClick.bind(this,"toggle-close-overlay")),this.modalToggleBack.addEventListener("click",this.handleClick.bind(this,"toggle-back")),this.modalSubToggleBack.addEventListener("click",(t=>{this.closeSublevels(t)})),document.addEventListener("cc-nav",this.handleNav.bind(this)),window.addEventListener("resize",this.handleResize)},t.prototype.getFocusableNodes=function(){const t=this.navWrapper.querySelectorAll(["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])']),e=Array(...t);return this.modalToggleAnimation&&e.push(this.modalToggle),e},t.prototype.handleClick=function(t,e){if("toggle-open"===t||"toggle-close"===t||"toggle-close-overlay"===t||"toggle"===t){"toggle-open"===t?this.openModal():"toggle-close"===t||"toggle-close-overlay"===t?(e.preventDefault(),e.stopPropagation(),this.closeModal()):"toggle"===t&&this.toggleModal();const i=new CustomEvent("cc-action",{detail:{id:this.nav.id,action:t}});document.dispatchEvent(i)}else if("toggle-back"===t&&this.nav.getAttribute("open-dropdown")){const t=this.nav.querySelector('.cc-nav-dropdown[state="open"]'),i=Array.prototype.indexOf.call(this.dropdowns,t);this.isModal()&&"0s"!==window.getComputedStyle(this.navContent).transitionDuration&&"0s, 0s"!==window.getComputedStyle(this.navContent).transitionDuration?this.navContent.addEventListener("transitionend",this.toggleBackHome.bind(this,e,t),{once:!0}):this.toggleBackHome(e,t);const n=new CustomEvent("cc-nav-back",{detail:{id:this.nav.id,index:i}});document.dispatchEvent(n)}},t.prototype.handleLinkClick=function(t){if(this.isModal()){const e=this.findLink(t.target);if(null==e)return;e.href.indexOf("#")>-1&&(e.parentNode.classList.contains("cc-nav-dropdown__button")||this.closeModal())}},t.prototype.findLink=function(t){return"A"==t.tagName&&t.href?t:t.parentElement?this.findLink(t.parentElement):null},t.prototype.handleKey=function(t){const e=void 0!==t.key?t.key:t.keyCode;if(27===t.keyCode){if(this.isOpen){this.closeModal();const t=new CustomEvent("cc-action",{detail:{id:this.nav.id,action:"toggle-close"}});document.dispatchEvent(t),this.modalToggle.blur()}else if(!this.isModal()){const t=new CustomEvent("cc-action",{detail:{id:this.nav.id,action:"toggle-close"}});document.dispatchEvent(t)}}else if((38===t.keyCode||40===t.keyCode||37===t.keyCode||39===t.keyCode)&&this.isOpen&&document.activeElement){t.preventDefault();const e=this.getFocusableNodes();let i=this.getFocusableNodesFiltered(e);const n=document.activeElement,o=Array.prototype.indexOf.call(i,n);let s;38===t.keyCode?s=o-1:40===t.keyCode?s=o+1:37===t.keyCode?s=o-1:39===t.keyCode&&(s=o+1),s<0?s=i.length-1:s>=i.length&&(s=0),this.didFocus=!0,i[s].focus()}else if("Enter"===e||13===e||["Spacebar"," "].indexOf(e)>=0||32===e)this.nav.contains(t.target)&&"INPUT"!==t.target.tagName&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),t.target.click());else if("Tab"===e||9===e){if(t.shiftKey)return void(this.shiftKey=!0);if(this.shiftKey=!1,this.isOpen&&this.modalToggleAnimation&&t.target===this.modalToggle){const e=this.getFocusableNodes();let i=this.getFocusableNodesFiltered(e);i.length>0&&(t.preventDefault(),i[0].focus())}}},t.prototype.handleResize=function(){this.isModal()&&"modal"!==this.state?(this.state="modal",this.nav.setAttribute("is-modal","true"),this.dropdowns.forEach(((t,e)=>{t.querySelector(".cc-nav-dropdown__content").style.top="",t.querySelector(".cc-nav-dropdown__content").style.left=""}))):this.isModal()||"modal"!==this.state||(this.state="desktop",this.nav.removeAttribute("is-modal")),this.isModal()?(this.nav.querySelectorAll(".cc-nav-content").forEach((t=>{t.classList.contains("cc-nav-content--mobile")||t.classList.add("cc-nav-content--mobile")})),this.nav.querySelectorAll(".cc-nav-dropdown__content").forEach((t=>{t.classList.contains("cc-nav-content--mobile")||t.classList.add("cc-nav-content--mobile")})),this.nav.querySelectorAll(".cc-nav__section").forEach((t=>{!t.classList.contains("cc-nav-content--mobile")&&t.hasAttribute("sublevel")&&t.classList.add("cc-nav-content--mobile")})),this.nav.querySelectorAll(".cc-nav-dropdown__button").forEach((t=>{t.classList.contains("cc-nav-dropdown__button--title")||t.classList.contains("cc-nav-dropdown__button--link")||t.setAttribute("tabindex","0")}))):(this.nav.querySelectorAll(".cc-nav-content").forEach((t=>{t.classList.contains("cc-nav-content--mobile")&&t.classList.remove("cc-nav-content--mobile")})),this.nav.querySelectorAll(".cc-nav-dropdown__content").forEach((t=>{t.classList.contains("cc-nav-content--mobile")&&t.classList.remove("cc-nav-content--mobile")})),this.nav.querySelectorAll(".cc-nav__section").forEach((t=>{t.classList.contains("cc-nav-content--mobile")&&t.classList.remove("cc-nav-content--mobile")})),this.nav.querySelectorAll(".cc-nav-dropdown__button").forEach((t=>{t.classList.contains("cc-nav-dropdown__button--title")||t.classList.contains("cc-nav-dropdown__button--link")||t.removeAttribute("tabindex")})))},t.prototype.handleNav=function(t){const e=t.detail.navID,i=t.detail.action;if(e===this.nav.id&&this.isModal())switch(i){case"toggle":this.toggleModal();break;case"toggle-open":this.openModal(!0);break;case"toggle-close":case"toggle-close-overlay":this.closeModal();break;case"toggle-back":this.closeSublevels()}};class e{constructor(t,e,i){this.nav=t,this.dropdown=e,this.index=i,this.modalToggleBack=this.nav.querySelector(".cc-nav-toggle--back"),this.modalSubToggleBack=this.nav.querySelector(".cc-nav-toggle--back--sub"),this.hideBackLabels=this.nav.getAttribute("hb-labels"),this.navContent=this.nav.querySelector(".cc-nav-content"),this.trigger=this.dropdown.querySelector(".cc-nav-dropdown__button"),this.isDropdownTitleLink=this.trigger&&this.trigger.querySelector(".cc-nav-dropdown__button--title")&&"A"===this.trigger.querySelector(".cc-nav-dropdown__button--title").tagName,this.accessibleTrigger=this.dropdown.querySelector(".cc-nav-dropdown__button--icon-accessible")?this.dropdown.querySelector(".cc-nav-dropdown__button--icon-accessible"):this.dropdown.querySelector('[is-trigger="true"]'),this.content=this.dropdown.querySelector(".cc-nav-dropdown__content"),this.caret=this.dropdown.querySelector(".cc-nav-dropdown-caret"),this.sublevelTrigger=this.dropdown.querySelectorAll(".cc-nav__sublevels"),this.offset=t.getAttribute("offset")?t.getAttribute("offset"):20,this.placement=t.getAttribute("placement"),this.hideCaret=t.getAttribute("hide-caret"),this.dropdownTrigger=t.getAttribute("action")?t.getAttribute("action"):"hover",this.breakpoint=t.getAttribute("breakpoint"),this.animationDuration=t.getAttribute("animation-duration")?1e3*parseFloat(t.getAttribute("animation-duration")):400,this.modalDuration=this.nav.getAttribute("modal-duration")?1e3*parseFloat(this.nav.getAttribute("modal-duration")):400,this.caretSize=this.nav.getAttribute("caret-size")?parseFloat(this.nav.getAttribute("caret-size")):16,this.delayParsed=t.getAttribute("data-ccp-delay")?JSON.parse(t.getAttribute("data-ccp-delay")):null,this.delay=this.delayParsed?1e3*this.delayParsed[0]:null,this.delayOut=this.delayParsed?1e3*this.delayParsed[1]:null,this.isOpen=!1,this.isTriggering=!1,this.isInteracting=!1,this.clicked=!1,this.handleTouchEnd=this.handleTouchEnd.bind(this),this.outsideListener=this.outsideListener.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.updatePosition=this.updatePosition.bind(this),this.handleInteractive=this.handleInteractive.bind(this).ccNavThrottle(50),this.handleBack=this.handleBack.bind(this),this.handleAction=this.handleAction.bind(this),this.quickClose=this.quickClose.bind(this),this.quickRemoveOpenDropdown=this.quickRemoveOpenDropdown.bind(this),this.handleDropdown=this.handleDropdown.bind(this),this.handleSubLevelClick=this.handleSubLevelClick.bind(this),this.toggleBack=this.toggleBack.bind(this),this.init(),this.events(),this.cleanupRef}}function i(){document.documentElement.style.setProperty("--scrollbar-width",window.innerWidth-document.documentElement.clientWidth+"px")}t.prototype.init=function(){this.dropdowns.forEach(((t,i)=>{new e(this.nav,t,i)})),this.isModal()&&"modal"!==this.state?(this.state="modal",this.nav.setAttribute("is-modal","true")):this.isModal()||"modal"!==this.state||(this.state="desktop",this.nav.removeAttribute("is-modal")),this.isModal()&&(this.nav.querySelectorAll(".cc-nav-content").forEach((t=>{t.classList.contains("cc-nav-content--mobile")||t.classList.add("cc-nav-content--mobile")})),this.nav.querySelectorAll(".cc-nav-dropdown__content").forEach((t=>{t.classList.contains("cc-nav-content--mobile")||t.classList.add("cc-nav-content--mobile")})),this.nav.querySelectorAll(".cc-nav__section").forEach((t=>{!t.classList.contains("cc-nav-content--mobile")&&t.hasAttribute("sublevel")&&t.classList.add("cc-nav-content--mobile")})),this.nav.querySelectorAll(".cc-nav-dropdown__button").forEach((t=>{t.classList.contains("cc-nav-dropdown__button--title")||t.classList.contains("cc-nav-dropdown__button--link")||t.setAttribute("tabindex","0")})))},t.prototype.isModal=function(){if(!this.breakpoint)return!1;if(CCers.breakpoints){const t=function(t){const e={};return Object.keys(t).forEach((i=>{(t[i].active||"lg"===i||"md"===i||"sm"===i)&&(e[i]=t[i])})),e}(JSON.parse(CCers.breakpoints)),e=Object.keys(t).findIndex((function(e){return t[e].isMain})),i={};return Object.keys(t).forEach(((n,o)=>{let s="max-width",a=t[n].width;if(o<=e&&(s="min-width"),"min-width"===s){const e=t[Object.keys(t)[o-1]]?.width;a=e?parseInt(e)-1:null}i[n]=a})),null===i[this.breakpoint]||window.innerWidth<=i[this.breakpoint]}},t.prototype.onFocus=function(t){this.isOpen&&this.retainFocus(t)},t.prototype.retainFocus=function(t){if(!this.isModal())return;if(this.disableFocus)return;if(this.didFocus)return this.didFocus=!1,void t.preventDefault();let e=this.getFocusableNodes();if(0===e.length)return;let i=this.getFocusableNodesFiltered(e),n=!1;if(t.relatedTarget&&(n=this.shiftKey),this.navWrapper.contains(document.activeElement)){if(!i.includes(document.activeElement)){let o=e.indexOf(document.activeElement),s=i.indexOf(document.activeElement);if(n){if(0===s)return this.didFocus=!0,i[i.length-1].focus(),void t.preventDefault();let n=e[o-1];for(;n&&!i.includes(n)&&0!==o;)o--,n=e[o-1];i.includes(n)&&(this.didFocus=!0,n.focus()),t.preventDefault()}else{let n=e[o+1];for(;n&&!i.includes(n)&&o!==e.length-1;)o++,n=e[o+1];i.includes(n)?(this.didFocus=!0,n.focus()):(this.didFocus=!0,i[0].focus()),t.preventDefault()}}}else{if(t.preventDefault(),n)return this.didFocus=!0,void(this.modalToggleAnimation&&t.relatedTarget===this.modalToggle?i[i.length-2].focus():i[i.length-1].focus());if(document.activeElement===this.modalToggle&&this.modalToggleAnimation)return;let o=e.indexOf(document.activeElement);-1===o&&(o=e.indexOf(t.relatedTarget));let s=e[o+1];for(;s&&!i.includes(s)&&o!==e.length-1;)o++,s=e[o+1];i.includes(s)?(this.didFocus=!0,s.focus()):(this.didFocus=!0,i[0].focus())}},t.prototype.getFocusableNodesFiltered=function(t){const e=this.nav.querySelector(".cc-nav-wrapper").getBoundingClientRect();return t.filter((t=>{if(t===this.modalToggle)return t;const i=t.getBoundingClientRect();let n=!1;i.top>=0&&i.left>=0&&(n=this.placement&&"left"!==this.placement?i.bottom<=e.bottom&&i.left>=e.left:i.bottom<=e.bottom&&i.right<=e.right);const o="visible"===document.visibilityState&&null!==t.offsetParent,s="hidden"===window.getComputedStyle(t).visibility||"none"===window.getComputedStyle(t).display||"0"===window.getComputedStyle(t).opacity,a=!(!this.isModal()||!t.classList.contains("cc-nav-dropdown__button--title")&&!t.classList.contains("cc-nav-dropdown__button--icon"));return!(!n||!o||s||a)&&t}))},t.prototype.toggleBackButton=function(t,e,i,n){e?.removeAttribute("state"),n?.removeAttribute("subopen"),0===t.detail&&i&&i.focus()},t.prototype.toggleBackHome=function(t,e){if(0===t.detail&&e){e.querySelector('a, button, [tabindex]:not([tabindex="-1"])').focus()}},t.prototype.toggleModal=function(){this.isOpen?this.closeModal():this.openModal()},t.prototype.openModal=function(){let t=!0;if(this.isOpen)return;this.scrollBehaviour("disable"),document.body.classList.add("cc-nav__modal--open"),this.isOpen=!0,t=!0,this.modalToggle.classList.contains("cc-hamburger")&&this.modalToggle.classList.add("active"),this.nav.classList.add("cc-nav--open"),this.nav.classList.add("animating"),"0s"!==window.getComputedStyle(this.navWrapper).transitionDuration&&"0s, 0s"!==window.getComputedStyle(this.navContent).transitionDuration?this.navWrapper.addEventListener("transitionend",this.removeClass.bind(this,"open")):this.removeClass("instant"),this.isModal()&&!this.modalToggleAnimation&&document.activeElement&&document.activeElement===this.modalToggle&&setTimeout((()=>{this.focusToFocusable()}),this.modalDuration?this.modalDuration:400);const e=document.querySelectorAll("[data-show-nav],[data-close-nav],[data-toggle-nav]");e.length&&e.forEach((function(t){t.setAttribute("is-open","true")}))},t.prototype.closeModal=function(){let t=!1;if(!this.isOpen)return;this.scrollBehaviour("enable"),document.body.classList.remove("cc-nav__modal--open"),this.isOpen=!1,t=!1,this.modalToggle.classList.contains("active")&&this.modalToggle.classList.remove("active"),this.nav.classList.remove("cc-nav--open"),this.nav.classList.add("animating"),"0s"!==window.getComputedStyle(this.navWrapper).transitionDuration&&"0s, 0s"!==window.getComputedStyle(this.navContent).transitionDuration?this.navWrapper.addEventListener("transitionend",this.removeClass.bind(this,"close")):this.removeClass("instant"),this.isModal()&&!this.modalToggleAnimation&&document.activeElement&&setTimeout((()=>{this.modalToggle.focus()}),this.modalDuration?this.modalDuration:400);const e=document.querySelectorAll("[data-show-nav],[data-close-nav],[data-toggle-nav]");e.length&&e.forEach((function(t){t.setAttribute("is-open","false")}))},t.prototype.scrollBehaviour=function(t){if(!this.enablePageScroll)switch(document.querySelector("body"),t){case"enable":document.body.classList.remove("cc-nav__modal--hs");break;case"disable":document.body.classList.add("cc-nav__modal--hs")}},t.prototype.focusToFocusable=function(){let t=this.getFocusableNodes();if(0===t.length)return;let e=this.getFocusableNodesFiltered(t);0!==e.length&&e[0].focus()},t.prototype.removeClass=function(t,e){"instant"===t?(this.nav.classList.remove("animating"),this.closeSublevelsWithoutEvent()):(e.stopPropagation(),"transform"===e.propertyName&&e.target===this.navWrapper&&(this.nav.classList.remove("animating"),"close"===t&&this.closeSublevelsWithoutEvent(),this.navWrapper.removeEventListener("transitionend",this.removeClass)))},e.prototype.cleanup=function(){FloatingUIDOM.autoUpdate(this.dropdown,this.content,this.updatePosition)},e.prototype.close=function(){this.isModal()&&"0s"!==window.getComputedStyle(this.navContent).transitionDuration&&"0s, 0s"!==window.getComputedStyle(this.navContent).transitionDuration?(this.quickRemoveOpenDropdown(),this.navContent.addEventListener("transitionend",this.quickClose,{once:!0})):(this.quickRemoveOpenDropdown(),this.quickClose()),this.isModal()||"0s"!==window.getComputedStyle(this.content).transitionDuration&&"0s, 0s"!==window.getComputedStyle(this.navContent).transitionDuration&&(this.content.classList.add("animating"),this.navContent.addEventListener("transitionend",(()=>{this.content.classList.remove("animating")}),{once:!0})),this.isOpen=!1,"click"===this.trigger&&this.$el.removeEventListener("keydown",this.onKeydown);const t=new CustomEvent("cc-nav-dropdown",{detail:{id:this.nav.id,index:this.index,state:"closed"}});document.dispatchEvent(t),this.cleanupRef},e.prototype.events=function(){this.trigger.addEventListener("click",this.handleClick.bind(this)),this.sublevelTrigger&&this.sublevelTrigger.forEach((t=>{t.addEventListener("click",this.handleSubLevelClick.bind(this))})),this.trigger.addEventListener("pointerenter",this.handleMouseEnter.bind(this)),this.trigger.addEventListener("touchend",this.handleTouchEnd.bind(this)),this.accessibleTrigger&&this.accessibleTrigger.addEventListener("blur",this.handleBlur.bind(this)),document.addEventListener("cc-nav-dropdown",this.handleDropdown.bind(this)),document.addEventListener("cc-nav-back",this.handleBack.bind(this)),document.addEventListener("cc-action",this.handleAction.bind(this))},e.prototype.handleAction=function(t){t.detail.id===this.nav.id&&("toggle-close"!==t.detail.action&&"toggle-close-overlay"!==t.detail.action||!this.isOpen||setTimeout((()=>{this.isModal()||this.isOpen&&document.activeElement&&this.dropdown.contains(document.activeElement)&&this.accessibleTrigger.focus(),this.close()}),this.isModal()?this.modalDuration:0))},e.prototype.handleBack=function(t){t.detail.id===this.nav.id&&t.detail.index===this.index&&this.close()},e.prototype.handleBlur=function(t){this.isModal()||"open"!==this.dropdown.getAttribute("state")||this.isTriggering||this.trigger.contains(t.target)||this.dropdown.contains(t.target)||this.hide(this.delayOut)},e.prototype.handleClick=function(t){this.isModal()&&!this.isTriggering&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),"closed"===this.dropdown.getAttribute("state")?this.show(this.delay,t):this.hide(this.delayOut)),"A"===t.target.tagName||this.isModal()||("closed"!==this.dropdown.getAttribute("state")||this.isTriggering?this.isTriggering||this.clicked||this.hide(this.delayOut):this.show(this.delay,t))},e.prototype.handleTouchEnd=function(t){this.isModal()||"click"===this.dropdownTrigger||(this.clicked?this.clicked=!1:this.clicked=!0)},e.prototype.handleDropdown=function(t){this.nav.id!==t.detail.id||this.isModal()||"open"===t.detail.state&&t.detail.index!==this.index&&this.hide(this.delay)},e.prototype.handleInteractive=function(t){this.trigger.contains(t.target)||this.dropdown.contains(t.target)||"open"!==this.dropdown.getAttribute("state")||!function(t,e,i,n){const{clientX:o,clientY:s}=n,{top:a,left:r,bottom:c,right:l}=t.getBoundingClientRect(),d=function(t){return t.split("-")[0]}(e),h=i?parseInt(i):0;return!h||(a-s-("top"===d?h:0)>0||s-c-("bottom"===d?h:0)>0||r-o-("left"===d?h:0)>0||o-l-("right"===d?h:0)>0)}(this.dropdown,this.floatPlacement,this.offset,t)||this.isInteracting||(this.isInteracting=!0,this.delayOut?(this.dropdown.addEventListener("pointerenter",this.mouseEnterListener),this.trigger.addEventListener("pointerenter",this.mouseTriggerEnterListener),this.mouseEnterTimeout=setTimeout((()=>{this.hide(),document.removeEventListener("pointermove",this.handleInteractive),this.dropdown.removeEventListener("pointerenter",this.mouseEnterListener),this.trigger.removeEventListener("pointerenter",this.mouseTriggerEnterListener),this.isListeningMouseOut=!1,this.isInteracting=!1}),this.delayOut)):(this.hide(),document.removeEventListener("pointermove",this.handleInteractive),document.removeEventListener("click",this.handleInteractive),this.isListeningMouseOut=!1,this.isInteracting=!1))},e.prototype.handleMouseEnter=function(t){"hover"!==this.dropdownTrigger||this.isModal()||"closed"!==this.dropdown.getAttribute("state")||this.isTriggering||(this.show(this.delay),this.interactive&&(document.addEventListener("pointermove",this.handleInteractive),this.isListeningMouseOut=!0))},e.prototype.handleSubLevelClick=function(t){if(this.isModal()&&!this.isTriggering&&"open"===this.dropdown.getAttribute("state")){this.nav.setAttribute("sublevel","open"),this.nav.setAttribute("aria-expanded","true");const e=t.target.classList.contains("cc-nav__sublevels")?t.target:t.target.closest(".cc-nav-dropdown__button");e.setAttribute("aria-expanded","true");const i=Array.prototype.indexOf.call(e.parentElement.children,e),n=e?.closest(".cc-nav__sublevels").nextElementSibling,o=n.children[i].classList.contains("cc-nav__submenu-divider")?n.children[i].nextElementSibling:n.children[i],s=o.closest("[menu-title]").getAttribute("menu-title");if(!this.hideBackLabels){this.nav.querySelector(".cc-nav-toggle--back--sub").querySelector("span").textContent=s}this.isModal()&&"0s"!==window.getComputedStyle(this.navContent).transitionDuration&&"0s, 0s"!==window.getComputedStyle(this.navContent).transitionDuration?this.navContent.addEventListener("transitionend",this.toggleSubBack.bind(this,t),{once:!0}):this.toggleSubBack(t);const a=o?.closest(".cc-nav__section");a&&a.setAttribute("subopen","true"),o.setAttribute("state","open")}},e.prototype.hide=function(t=0){if(!this.isOverridden)if(t)"closed"===this.dropdown.getAttribute("state")&&setTimeout((()=>{"click"===this.trigger?(this.close(),document.removeEventListener("click",this.outsideListener)):this.close()}),t);else{if("click"===this.trigger?(this.close(),document.removeEventListener("click",this.outsideListener)):(this.close(),this.clicked=!1),0===this.dropdown.querySelectorAll("iframe").length&&0===this.dropdown.querySelectorAll("video").length)return;this.$el.addEventListener("transitionend",this.removeVideo)}},e.prototype.init=function(){const t={middleware:[]};this.placement&&"fullwidth"!==this.placement&&(t.placement=this.placement),this.offset?t.middleware.push(FloatingUIDOM.offset(parseInt(this.offset))):t.middleware.push(FloatingUIDOM.offset(10)),t.middleware.push(FloatingUIDOM.shift()),t.middleware.push(FloatingUIDOM.flip()),t.middleware.push(FloatingUIDOM.arrow({element:this.caret})),this.args=t,this.accessibleTrigger&&this.accessibleTrigger.setAttribute("aria-expanded","false"),this.content.setAttribute("aria-hidden","true"),this.dropdown.setAttribute("state","closed"),this.isModal()||FloatingUIDOM.computePosition(this.dropdown,this.content,t).then((({x:t,y:e,placement:i,middlewareData:n})=>{this.floatPlacement=i,Object.assign(this.content.style,{left:`${t}px`,top:`${e}px`,position:"absolute"}),this.dropdown.setAttribute("position",i);const o={top:"bottom",right:"left",bottom:"top",left:"right"}[i.split("-")[0]];if("fullwidth"!==this.placement){const{x:t,y:e}=n.arrow;Object.assign(this.caret.style,{left:null!=t?`${t}px`:"",right:"",bottom:"",[o]:"-"+this.caretSize+"px"})}else{const t=this.trigger.getBoundingClientRect(),e=t.left+t.width/2;Object.assign(this.caret.style,{left:null!=e?`${e}px`:"",top:0,right:"",bottom:"",[o]:"-"+this.caretSize+"px"})}}))},e.prototype.isModal=function(){if(!this.breakpoint)return!1;if(CCers.breakpoints){const t=function(t){const e={};return Object.keys(t).forEach((i=>{(t[i].active||"lg"===i||"md"===i||"sm"===i)&&(e[i]=t[i])})),e}(JSON.parse(CCers.breakpoints)),e=Object.keys(t).findIndex((function(e){return t[e].isMain})),i={};return Object.keys(t).forEach(((n,o)=>{let s="max-width",a=t[n].width;if(o<=e&&(s="min-width"),"min-width"===s){const e=t[Object.keys(t)[o-1]]?.width;a=e?parseInt(e)-1:null}i[n]=a})),null===i[this.breakpoint]||window.innerWidth<=i[this.breakpoint]}},e.prototype.open=function(){this.dropdown.setAttribute("state","open"),this.accessibleTrigger&&this.accessibleTrigger.setAttribute("aria-expanded","true"),this.content.setAttribute("aria-hidden","false"),this.nav.setAttribute("open-dropdown","true"),this.isOpen=!0,this.isModal()||this.content.classList.remove("animating"),"click"===this.trigger&&(setTimeout((()=>{this.setFocusToFirstNode()}),100),this.dropdown.addEventListener("keydown",this.onKeydown,!1));const t=new CustomEvent("cc-nav-dropdown",{detail:{id:this.nav.id,index:this.index,state:"open"}});document.dispatchEvent(t),this.cleanup()},e.prototype.outsideListener=function(t){"click"===this.dropdownTrigger&&(this.trigger.contains(t.target)||this.nav.contains(t.target)||this.hide(this.delayOut))},e.prototype.quickClose=function(){this.dropdown.setAttribute("state","closed"),this.accessibleTrigger&&this.accessibleTrigger.setAttribute("aria-expanded","false"),this.content.setAttribute("aria-hidden","true")},e.prototype.quickRemoveOpenDropdown=function(){this.isModal()?this.nav.removeAttribute("open-dropdown"):setTimeout((()=>{const t=this.nav.querySelectorAll(".cc-nav-dropdown");let e=!1;t.forEach(((t,i)=>{"open"===t.getAttribute("state")&&(e=!0)})),e||this.nav.removeAttribute("open-dropdown")}),0)},e.prototype.show=function(t=0,e=null){this.isOverridden||(this.isTriggering=!0,this.isModal()?(t?"closed"===this.dropdown.getAttribute("state")&&setTimeout((()=>{this.open(),this.isTriggering=!1}),t):(this.open(),this.isTriggering=!1),this.isModal()&&"0s"!==window.getComputedStyle(this.navContent).transitionDuration&&"0s, 0s"!==window.getComputedStyle(this.navContent).transitionDuration?this.navContent.addEventListener("transitionend",this.toggleBack.bind(this,e),{once:!0}):this.toggleBack(e)):"click"===this.dropdownTrigger?t?"closed"===this.dropdown.getAttribute("state")&&setTimeout((()=>{this.open(),document.addEventListener("click",this.outsideListener),this.isTriggering=!1}),t):(this.open(),document.addEventListener("click",this.outsideListener),this.isTriggering=!1):"hover"===this.dropdownTrigger&&(t?this.isListeningMouseOut||(this.dropdownTrigger.addEventListener("pointerout",this.mouseLeaveListener),this.mouseHoverTimeout=setTimeout((()=>{this.open(),document.addEventListener("pointermove",this.handleInteractive),this.isTriggering=!1,this.isListeningMouseOut=!0,this.dropdownTrigger.removeEventListener("pointerout",this.mouseLeaveListener)}),t)):(this.open(),e&&(0===e.detail||e.detail)||(document.addEventListener("pointermove",this.handleInteractive),document.addEventListener("click",this.handleInteractive)),this.isTriggering=!1,this.isListeningMouseOut=!0)))},e.prototype.toggleBack=function(t){0===t.detail&&this.modalToggleBack.focus()},e.prototype.toggleSubBack=function(t){0===t.detail&&this.modalSubToggleBack.focus()},e.prototype.updatePosition=function(){this.isModal()||FloatingUIDOM.computePosition(this.dropdown,this.content,this.args).then((({x:t,y:e,placement:i,middlewareData:n})=>{this.floatPlacement=i,Object.assign(this.content.style,{left:`${t}px`,top:`${e}px`,position:"absolute"}),this.dropdown.setAttribute("position",i);const o={top:"bottom",right:"left",bottom:"top",left:"right"}[i.split("-")[0]];if("fullwidth"!==this.placement){const{x:t,y:e}=n.arrow;Object.assign(this.caret.style,{left:null!=t?`${t}px`:"",right:"",bottom:"",[o]:"-"+this.caretSize+"px"})}else{const t=this.trigger.getBoundingClientRect(),e=t.left+t.width/2;Object.assign(this.caret.style,{left:null!=e?`${e}px`:"",top:0,right:"",bottom:"",[o]:"-"+this.caretSize+"px"})}}))},Function.prototype.ccNavThrottle=function(t,e){var i=this,n=null,o=t;return function(){var t=e||this,s=arguments,a=Date.now();(!n||a-n>=o)&&(n=a,i.apply(t,s))}},window.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".cc-nav");e&&e.forEach((e=>{window[`cc-nav-${e.id}`]=new t(e)}))})),window.addEventListener("resize",i,!1),document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("DOMContentLoaded",i)}();
