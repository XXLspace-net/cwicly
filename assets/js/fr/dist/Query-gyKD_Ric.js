import{g as e,s as t,h as s,i as r,a,t as i,r as l,b as n,c,d as o,e as u,q as f,w as p,f as d,u as h,j as y}from"./main-qHBKdA_h.js";import{d as g,h as m,a as k,S as q,i as b,e as P,b as S,t as w,c as I,f as N,g as $,o as v,j as O,k as x,l as T,m as D,B as J,n as _,p as j,q as E}from"./BlockMaker-Ya5typht.js";import{p as C,f as L}from"./productStore-RLRsJ-uD.js";function F(e){let t=[];return e.blocks&&e.blocks.map((e=>{const r={userID:CCers.loggedIn},a=m(e,r),i=k(e,r);if(a&&i&&(function(e,t){if(e.link&&e.link.url&&e.link.url.type&&"dynamic"===e.link.url.type&&e.link.url.href)if("lightbox"===e.link.url.href){if(e.link.url?.extra?.source&&"dynamic"===e.link.url?.extra?.source&&e.link.url?.extra?.acf&&e.link.url.extra.acfField){let r="false";var s=["acffield",e.link.url.extra.acfField,r,"false","false",e.blockName];t.includes(s)||t.push(s)}}else if("object"==typeof e.link.url.href&&e.link.url.href.source)switch(e.link.url.href.source){case"acffield":if(e.link.url.href.field){let r="false";e.link.url.href.location&&(r=e.link.url.href.location),s=["acffield",e.link.url.href.field,r,"false","false",e.blockName],t.includes(s)||t.push(s)}break;case"shortcode":e.link.url.href.one&&(s=[e.link.url.href.source,e.link.url.href.one],t.includes(s)||t.push(s));break;case"directlogout":case"loginurl":if(e.link.url.href.one)switch(e.link.url.href.one){case"currentpage":case"siteurl":case"homeurl":var r=[e.link.url.href.source,e.link.url.href.one];t.includes(r)||t.push(r);break;case"specific":e.link.url.href.two&&(r=[e.link.url.href.source,"specific",e.link.url.href.two],t.includes(r)||t.push(r))}}else"posturl"===e.link.url.href?t.includes("pageurl")||t.push("pageurl"):t.includes(e.link.url.href)||t.push(e.link.url.href);else e.link&&e.link.url&&e.link.url.type&&"static"===e.link.url.type&&e.link.url.href&&e.link.url.href.includes("{")&&e.link.url.href.includes("}")&&g(e.link.url.href,t);e.link&&e.link.title&&g(e.link.title,t),e.link&&e.link.ariaLabel&&g(e.link.ariaLabel,t),e.link&&e.link.url?.description&&g(e.link.url?.description,t)}(e,t),function(e,t){e.conditions&&e.conditions.hideConditions&&e.conditions.hideConditions.length&&e.conditions.hideConditions.forEach((e=>{switch(e.condition){case"postid":case"userid":case"commentsopen":break;case"postexcerpt":t.includes("ispostexcerpt")||t.push("ispostexcerpt");break;case"postcontent":t.includes("ispostcontent")||t.push("ispostcontent");break;case"acf":if(e.acfGroup&&e.acfField){let r="false";e.acfLocation&&(r=e.acfLocation);var s=["acffield",e.acfField,r,"false","false",e.blockName,"isFEConditions"];t.includes(s)||t.push(s)}break;default:t.includes(e.condition)||t.push(e.condition)}}))}(e,t),function(e,t){if(e.content&&"object"==typeof e.content&&e.content.source){let r,a,i,l;switch(e.content.fallback&&(r=e.content.fallback),e.content.extra&&(a=e.content.extra),e.content.extra2&&(i=e.content.extra2),e.content.extra3&&(l=e.content.extra3),e.content.before&&e.content.before,e.content.after&&e.content.after,e.content.source){case"acf":if(e.content.field){let r="false";e.content.location&&(r=e.content.location);var s=["acffield",e.content.field,r,a,"false",e.blockName];t.includes(s)||t.push(s)}break;case"wordpress":if(e.content.type)switch(e.content.type){case"postexcerpt":s=["postexcerpt",a,r],t.includes(s)||t.push(s);break;case"sitetagline":case"sitetitle":case"authorname":case"username":t.includes(e.content.type)||t.push(e.content.type);break;case"customfield":case"authorcustomfield":case"usercustomfield":case"customcurrentdate":case"authorinfo":case"userinfo":case"siteoption":case"postcategory":s=[e.content.type,a],t.includes(s)||t.push(s);break;case"currentdate":s=[e.content.type,a,i],t.includes(s)||t.push(s);break;case"postdate":case"time":case"postcomments":s=[e.content.type],a&&s.push(a),i&&s.push(i),l&&s.push(l),t.includes(s)||t.push(s)}case"commentquery":if(e.content?.field)switch(e.content.field){case"comment_date":case"comment_time":s=[e.content.field],a&&s.push(a),i&&s.push(i),l&&s.push(l),t.includes(s)||t.push(s)}}}else e.content&&"string"==typeof e.content&&g(e.content,t)}(e,t),function(e,t){e.attributes&&Array.isArray(e.attributes)&&e.attributes.length&&e.attributes.forEach((s=>{switch(s.dynamic){case"wordpress":s.wordpress&&("authorname"===s.wordpress&&t.push("authorname"),"date"===s.wordpress&&t.push("date"),"dayweek"===s.wordpress&&t.push("dayweek"),"daymonth"===s.wordpress&&t.push("daymonth"),"time"===s.wordpress&&t.push("time"),"postparentid"===s.wordpress&&t.push("postparentid"),"postfeaturedimage"===s.wordpress&&t.push("featuredimage"),"postcomments"===s.wordpress&&t.push("postcomments"),"posttype"===s.wordpress&&t.push("posttype"),s.wordpress);break;case"acf":if(s.acfField){let a="false";var r=["acffield",s.acfField,a,"false","false",e.blockName];t.includes(r)||t.push(r)}}}))}(e,t),function(e,t){if(e.attrs&&e.attrs.image){let r=e.attrs.image;r.fallback&&r.fallback,r.extra&&r.extra;let a=[];switch(r.thumbnail?a.push(r.thumbnail):a.push("0"),r.imageAlt?a.push("0"):a.push("1"),r.imageDisableSrcSet?a.push("0"):a.push("1"),r.source){case"acf":if(r.field){let i="false";r.location&&(i=r.location);var s=["acffield",r.field,i,"false","false",e.blockName,a.join("-")];t.includes(s)||t.push(s)}break;case"wordpress":if(r.type)switch(r.type){case"authorpicture":case"userpicture":s=r.type,t.includes(s)||t.push(s)}}}}(e,t),function(e,t){if(e?.attrs?.svg?.image){let r=e?.attrs?.svg?.image;r.fallback&&r.fallback,r.extra&&r.extra;let a=[];switch(a.push("svg"),r.source){case"acf":if(r.field){let i="false";r.location&&(i=r.location);var s=["acffield",r.field,i,"false","false",e.blockName,`${a.join("-")}-all`];t.includes(s)||t.push(s)}break;case"wordpress":if(r.type)switch(r.type){case"authorpicture":case"userpicture":s=r.type,t.includes(s)||t.push(s)}}}}(e,t),function(e,t){if(e.styling&&e.styling.source){let r=e.styling;switch(r&&r.fallback&&r.fallback,r.source){case"acf":if(r.field){let a="false";r.location&&(a=r.location);var s=["acffield",r.field,a,"false","false",e.blockName];t.includes(s)||t.push(s)}break;case"wordpress":if(r.type)switch(r.type){case"authorpicture":case"userpicture":s=r.type,t.includes(s)||t.push(s)}}}}(e,t),function(e,t){if(e.repeater&&e.repeater.source){let r=e.repeater;if("acf"===r.source&&r.field){let a="false";r.location&&(a=r.location);var s=["acffield",r.field,a,"false","false",e.blockName];t.includes(s)||t.push(s)}}}(e,t),function(e,t){if(e.attrs&&e.attrs.video&&e.attrs.video.dynamicType){let r=e.attrs.video;if("acf"===r.dynamicType&&r.field){let a="false";r.location&&(a=r.location);var s=["acffield",r.field,a,"false","false",e.blockName];t.includes(s)||t.push(s)}}}(e,t),function(e,t){if(e.attrs&&e.attrs.taxonomyterms){let r=e.attrs.taxonomyterms;Object.keys(r).length>0&&t.push(["taxonomyterms",r,s(JSON.stringify(r))])}}(e,t),e.innerBlocks)){const s=F({blocks:e.innerBlocks});t=t.concat(s.filter((e=>t.indexOf(e)<0)))}})),t}function Q(e,t,s){const r=e.slice();return r[26]=t[s],r[28]=s,r}function A(e){let t,s,r=x(e[4]),a=[];for(let t=0;t<r.length;t+=1)a[t]=B(Q(e,r,t));const i=e=>I(a[e],1,1,(()=>{a[e]=null}));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();t=P()},m(e,r){for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,r);S(e,t,r),s=!0},p(e,s){if(8191&s){let l;for(r=x(e[4]),l=0;l<r.length;l+=1){const i=Q(e,r,l);a[l]?(a[l].p(i,s),w(a[l],1)):(a[l]=B(i),a[l].c(),w(a[l],1),a[l].m(t.parentNode,t))}for(T(),l=r.length;l<a.length;l+=1)i(l);N()}},i(e){if(!s){for(let e=0;e<r.length;e+=1)w(a[e]);s=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)I(a[e]);s=!1},d(e){e&&$(t),D(a,e)}}}function B(e){let t,s;return t=new J({props:{attributes:e[26],index:e[28],item:{dynamic_specifics:e[8]?.dynamic_specifics,currentPage:e[9],perPage:e[10],totalItems:e[11],totalPages:e[12]},queryType:e[3],dynamicData:e[8].dynamicData,general:e[8].general,blockContext:"query",queryInfiniteLoad:e[5],dataQueryID:e[1],query:e[8],queryInfiniteScrollThreshold:e[6],postsPerPage:e[0],skeleton:e[2],main:e[7],queryInfo:{currentPage:e[9],perPage:e[10],totalItems:e[11],totalPages:e[12]}}}),{c(){_(t.$$.fragment)},m(e,r){j(t,e,r),s=!0},p(e,s){const r={};16&s&&(r.attributes=e[26]),7936&s&&(r.item={dynamic_specifics:e[8]?.dynamic_specifics,currentPage:e[9],perPage:e[10],totalItems:e[11],totalPages:e[12]}),8&s&&(r.queryType=e[3]),256&s&&(r.dynamicData=e[8].dynamicData),256&s&&(r.general=e[8].general),32&s&&(r.queryInfiniteLoad=e[5]),2&s&&(r.dataQueryID=e[1]),256&s&&(r.query=e[8]),64&s&&(r.queryInfiniteScrollThreshold=e[6]),1&s&&(r.postsPerPage=e[0]),4&s&&(r.skeleton=e[2]),128&s&&(r.main=e[7]),7680&s&&(r.queryInfo={currentPage:e[9],perPage:e[10],totalItems:e[11],totalPages:e[12]}),t.$set(r)},i(e){s||(w(t.$$.fragment,e),s=!0)},o(e){I(t.$$.fragment,e),s=!1},d(e){E(t,e)}}}function M(e){let t,s,r=e[4]&&e[4].length&&A(e);return{c(){r&&r.c(),t=P()},m(e,a){r&&r.m(e,a),S(e,t,a),s=!0},p(e,[s]){e[4]&&e[4].length?r?(r.p(e,s),16&s&&w(r,1)):(r=A(e),r.c(),w(r,1),r.m(t.parentNode,t)):r&&(T(),I(r,1,1,(()=>{r=null})),N())},i(e){s||(w(r),s=!0)},o(e){I(r),s=!1},d(e){e&&$(t),r&&r.d(e)}}}function G(c,g,m){let k,q,b,P;o(c,f,(e=>m(16,k=e))),o(c,p,(e=>m(17,q=e))),o(c,d,(e=>m(18,b=e))),o(c,h,(e=>m(19,P=e)));let S,w,I,{dataQueryID:N}=g,{skeleton:$}=g,{queryType:x}=g,{template:T}=g,{postsPerPage:D}=g,{queryInfiniteLoad:J}=g,{queryInfiniteScrollThreshold:_}=g,{queryID:j}=g,{main:E}=g,Q=[],A=[...T];if(v((()=>{m(14,S=P)})),T){const e="cwicly/query-template",t=T.find(((t,s)=>{if(t.blockName===e)return A.splice(s,1),t}));t&&(w=t?.innerBlocks)}O((()=>{I&&(self.document.dispatchEvent(new CustomEvent("cc-queries",{detail:N})),I=!1,"function"==typeof cc_dynamicSliderMaker&&cc_dynamicSliderMaker())}));const B=JSON.stringify(F({blocks:w})),M=JSON.stringify(F({blocks:A}));let G,R,V,z,H="";return c.$$set=e=>{"dataQueryID"in e&&m(1,N=e.dataQueryID),"skeleton"in e&&m(2,$=e.skeleton),"queryType"in e&&m(3,x=e.queryType),"template"in e&&m(4,T=e.template),"postsPerPage"in e&&m(0,D=e.postsPerPage),"queryInfiniteLoad"in e&&m(5,J=e.queryInfiniteLoad),"queryInfiniteScrollThreshold"in e&&m(6,_=e.queryInfiniteScrollThreshold),"queryID"in e&&m(13,j=e.queryID),"main"in e&&m(7,E=e.main)},c.$$.update=()=>{if(606210&c.$$.dirty&&P&&S&&P!=S&&(m(14,S=P),y({$queries:k,$urlParams:P,dataQueryID:N})),893354&c.$$.dirty&&k[N]){const t=k[N],s=H?JSON.parse(H):{};let r=JSON.parse(t.stringArgs);if(b[N]){const s={};Object.values(b[N]).forEach((a=>{if("static"===a.filterSource&&a.filterTarget&&a.filterStaticData?.length){if(!k?.[N]?.isLoaded?.includes(a.filterTarget)){let i=e(a.filterTarget,t.args.params),l=!1;P&&Object.entries(P).forEach((e=>{e[0]===a.filterTarget&&(l=!0)})),l||(a.filterStaticData.forEach((e=>{e.default&&(s[i]?s[i].push(e.value):s[i]=[e.value])})),r=u({value:s[i],target:i,query:r}))}}else if("dynamic"===a.filterSource&&a.filterTarget&&a.filterDynamicDefaults?.length&&!k?.[N]?.isLoaded?.includes(a.filterTarget)){let i=e(a.filterTarget,t.args.params),l=!1;if(P&&Object.entries(P).forEach((e=>{e[0]===a.filterTarget&&(l=!0)})),!l){let e;a.filterTaxField&&(e=a.filterTaxField),a.filterDynamicDefaults.forEach((t=>{const r=e?t.value[e]:t.value.slug;s[i]?s[i].push(r):s[i]=[r]})),r=u({value:s[i],target:i,query:r})}}})),t.stringArgs=JSON.stringify(r),t.siv&&setTimeout((()=>{E.scrollIntoView()}),0)}H&&H===t.stringArgs||(m(15,H=t.stringArgs),t.args&&t.args.queryargs&&(t.args.queryargs.limit||t.args.queryargs.posts_per_page)&&m(0,D=t.args.queryargs.limit||t.args.queryargs.posts_per_page),J||m(8,Q=[]),a("wp_query/args/",{query_args:t.stringArgs,query_type:x,template_dynamics:B,query_dynamics:M,current_id:CCers.postID,query_id:N,query_block_id:j},"GET").then((e=>{(e.pricerange||e.total||0===e.total)&&f.update((t=>{const s=JSON.parse(JSON.stringify(t));return s[N]?(s[N].priceRange=e.pricerange?e.pricerange:null,s[N].total=e.total?e.total:null,s[N].postsPerPage=e.postsPerPage?e.postsPerPage:null,s[N].totalPages=e.total&&e.postsPerPage?Math.ceil(e.total/e.postsPerPage):null):s[N]={priceRange:e.pricerange,total:e.total,postsPerPage:e.postsPerPage,totalPages:e.total&&e.postsPerPage?Math.ceil(e.total/e.postsPerPage):null},s})),J&&1!==t.page&&Q&&Q.query&&Q.query.length&&e?.query?.length?s?.page===t.page||1===s?.page&&!t.page?m(8,Q={...e,query:[...e.query]}):m(8,Q={...e,query:[...Q.query,...e.query]}):m(8,Q=e),t.siv&&setTimeout((()=>{E.scrollIntoView()}),0),I=!0})))}if(327680&c.$$.dirty&&function(c){if(c.$filters&&Object.keys(c.$filters).length){const o={};Object.keys(c.$filters).forEach((r=>{const a=c.$queries[r]?.args?.params,i=c.$queries[r]?.args?.queryargs;o[r]={},o[r].queryType=c.$queries[r]?.args.querytype,o[r].queries=[],Object.entries(c.$filters[r]).forEach((l=>{if(l[1].filterCountItems&&l[1].filterTarget&&i){const n=e(l[1].filterTarget,a);let c=!1;n&&n.includes("|")&&(c=!0),"page"!=n&&("static"===l[1]?.filterSource&&l[1].filterStaticData?l[1].filterStaticData.forEach((e=>{let a=JSON.parse(JSON.stringify(i));c?t(a,e.value,n):a[n]="true"===e.value||!0===e.value||"false"!==e.value&&!1!==e.value&&e.value,delete a.limit,delete a.page,delete a.paged,delete a.orderby,delete a.order,o[r].queries.includes(JSON.stringify(a))||o[r].queries.push({args:JSON.stringify(a),hash:s(JSON.stringify(a))})})):"dynamic"===l[1]?.filterSource&&l[1].dynamicFields&&l[1].dynamicFields.forEach((e=>{let a=JSON.parse(JSON.stringify(i));c?t(a,e.slug,n):a[n]=e.slug,delete a.limit,delete a.page,delete a.paged,delete a.orderby,delete a.order,o[r].queries.includes(JSON.stringify(a))||o[r].queries.push({args:JSON.stringify(a),hash:s(JSON.stringify(a))})}))),o[r].hash=s(JSON.stringify(o[r].queries))}}))}));const u=s(JSON.stringify(o));r(u)||(n(u),a("wp_query/queries/",{queries:o,quickCount:!0,hash:s(JSON.stringify(o))},"POST").then((e=>{e&&Object.entries(e).forEach((e=>{i.update((t=>{const s=JSON.parse(JSON.stringify(t));return s[e[0]]=e[1],s}))})),l(u)})))}}({$queries:k,$filters:b}),266&c.$$.dirty&&"products"===x&&Q.query&&Q.query.length&&C({query:Q,dataQueryID:N}),131338&c.$$.dirty&&"products"===x&&q&&Q.query&&Q.query.length&&L({query:Q,dataQueryID:N,wooProducts:q}),65538&c.$$.dirty&&k&&k[N]){const e=k[N];m(9,G=e.page?parseInt(e.page):1),m(10,R=e.postsPerPage?parseInt(e.postsPerPage):null),m(11,V=e.total),m(12,z=e.totalPages)}},[D,N,$,x,T,J,_,E,Q,G,R,V,z,j,S,H,k,q,b,P]}class R extends q{constructor(e){super(),b(this,e,G,M,c,{dataQueryID:1,skeleton:2,queryType:3,template:4,postsPerPage:0,queryInfiniteLoad:5,queryInfiniteScrollThreshold:6,queryID:13,main:7})}}export{R as default};
