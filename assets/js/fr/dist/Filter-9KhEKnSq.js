import{c as e,k as t,l,m as r,n,o as i,g as a,p as c,v as s,d as o,f as u,u as f,x as d,y as m,z as p,h as g,A as y,B as h,i as $,b as D,a as T,r as I,s as b,q as x,C,D as F,t as v}from"./main-qHBKdA_h.js";import{S,i as k,r as B,s as w,u as O,e as N,v as P,b as Q,w as V,x as A,t as q,l as j,c as E,f as J,g as K,y as L,k as _,m as H,n as M,p as z,q as G,H as R,o as U,z as W,A as X,C as Y,B as Z}from"./BlockMaker-Ya5typht.js";function ee(e){let t,l=!1,r=!1,n=!1;return e.selected?(l=e.selected===e.dynamicField.value,e.selected!=e.dynamicField.value&&(t=e.dynamicField.value)):t=e.dynamicField.value,0===e.termCounter?.[e.dynamicField.value]&&(r=!0),r||e.groupTabIndex||(n=!0,e.groupTabIndex=!0),{isActive:l,changeValue:t,isDisabled:r,isTabIndex:n}}function te(e){let t,l=!1,r=!1,n=!1;if(e.selected){let r=e.selected.split(",");Array.isArray(r)?r.includes(e.dynamicField.value||e.dynamicField.slug)||r.includes(e.dynamicField?.value?.toString())?(l=!0,t=r.filter((t=>t!=e.dynamicField.slug&&t!=e.dynamicField.value))):(t=[...r],t.push(e.dynamicField.value||e.dynamicField.slug)):e.selected===(e.dynamicField.value||e.dynamicField.slug)&&(l=!0,t="")}else t=[e.dynamicField.value||e.dynamicField.slug];return 0===e.termCounter?.[e.dynamicField.value]&&(r=!0),r||e.groupTabIndex||(n=!0,e.groupTabIndex=!0),{isActive:l,changeValue:t,isDisabled:r,isTabIndex:n}}function le(e,t,l){const r=e.slice();return r[14]=t[l],r[16]=l,r}function re(e){let t,l,r;return{c(){t=O("("),l=O(e[9]),r=O(")")},m(e,n){Q(e,t,n),Q(e,l,n),Q(e,r,n)},p(e,t){512&t&&L(l,e[9])},d(e){e&&(K(t),K(l),K(r))}}}function ne(e){let t,l,r=_(e[0].children),n=[];for(let t=0;t<r.length;t+=1)n[t]=ie(le(e,r,t));const i=e=>E(n[e],1,1,(()=>{n[e]=null}));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,r){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,r);Q(e,t,r),l=!0},p(e,l){if(63&l){let a;for(r=_(e[0].children),a=0;a<r.length;a+=1){const i=le(e,r,a);n[a]?(n[a].p(i,l),q(n[a],1)):(n[a]=ie(i),n[a].c(),q(n[a],1),n[a].m(t.parentNode,t))}for(j(),a=r.length;a<n.length;a+=1)i(a);J()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)q(n[e]);l=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)E(n[e]);l=!1},d(e){e&&K(t),H(n,e)}}}function ie(e){let t,l;return t=new se({props:{selected:e[1],selectOption:e[14],termCounter:e[2],groupTabIndex:e[3],childIndex:e[4]?e[4]+1:1,filterCountItems:e[5]}}),{c(){M(t.$$.fragment)},m(e,r){z(t,e,r),l=!0},p(e,l){const r={};2&l&&(r.selected=e[1]),1&l&&(r.selectOption=e[14]),4&l&&(r.termCounter=e[2]),8&l&&(r.groupTabIndex=e[3]),16&l&&(r.childIndex=e[4]?e[4]+1:1),32&l&&(r.filterCountItems=e[5]),t.$set(r)},i(e){l||(q(t.$$.fragment,e),l=!0)},o(e){E(t.$$.fragment,e),l=!1},d(e){G(t,e)}}}function ae(e){let l,r,n,i,a,c,s,o,u,f=e[9]&&re(e),d=[{...e[8]},{disabled:e[10]},{__value:c=e[0]?e[6]?e[0][e[6]]:e[0].value:""}],m={};for(let e=0;e<d.length;e+=1)m=t(m,d[e]);let p=e[0].children&&ne(e);return{c(){l=B("option"),r=new R(!1),n=w(),i=O(e[11]),a=w(),f&&f.c(),s=w(),p&&p.c(),o=N(),r.a=n,P(l,m)},m(t,c){Q(t,l,c),r.m(e[7],l),V(l,n),V(l,i),V(l,a),f&&f.m(l,null),Q(t,s,c),p&&p.m(t,c),Q(t,o,c),u=!0},p(e,[t]){(!u||128&t)&&r.p(e[7]),e[9]?f?f.p(e,t):(f=re(e),f.c(),f.m(l,null)):f&&(f.d(1),f=null),P(l,m=A(d,[256&t&&{...e[8]},(!u||1024&t)&&{disabled:e[10]},(!u||65&t&&c!==(c=e[0]?e[6]?e[0][e[6]]:e[0].value:""))&&{__value:c}])),e[0].children?p?(p.p(e,t),1&t&&q(p,1)):(p=ne(e),p.c(),q(p,1),p.m(o.parentNode,o)):p&&(j(),E(p,1,1,(()=>{p=null})),J())},i(e){u||(q(p),u=!0)},o(e){E(p),u=!1},d(e){e&&(K(l),K(s),K(o)),f&&f.d(),p&&p.d(e)}}}function ce(e,t,l){let r,n,i,{selectOption:a}=t,{selected:c}=t,{termCounter:s}=t,{groupTabIndex:o}=t,{childIndex:u}=t,{filterCountItems:f}=t,{filterTaxField:d}=t,{hasToBeSelected:m}=t,p=a.name?a.name:a.label?a.label:"",g={},y="";return u&&(y=Array.from({length:u},((e,t)=>"&nbsp;"))),e.$$set=e=>{"selectOption"in e&&l(0,a=e.selectOption),"selected"in e&&l(1,c=e.selected),"termCounter"in e&&l(2,s=e.termCounter),"groupTabIndex"in e&&l(3,o=e.groupTabIndex),"childIndex"in e&&l(4,u=e.childIndex),"filterCountItems"in e&&l(5,f=e.filterCountItems),"filterTaxField"in e&&l(6,d=e.filterTaxField),"hasToBeSelected"in e&&l(12,m=e.hasToBeSelected)},e.$$.update=()=>{1&e.$$.dirty&&!a.value&&a.slug&&l(0,a.value=a.slug,a),4099&e.$$.dirty&&(c===a.value||m)&&l(8,g.selected=!0,g),15&e.$$.dirty&&l(13,n=ee({selected:c,dynamicField:a,termCounter:s,groupTabIndex:o})),8192&e.$$.dirty&&l(10,r=n?.isDisabled),128&e.$$.dirty&&Array.isArray(y)&&l(7,y=y.join("")),37&e.$$.dirty&&f&&s[a.value]&&l(9,i=s?.[a.value])},[a,c,s,o,u,f,d,y,g,i,r,p,m,n]}class se extends S{constructor(t){super(),k(this,t,ce,ae,e,{selectOption:0,selected:1,termCounter:2,groupTabIndex:3,childIndex:4,filterCountItems:5,filterTaxField:6,hasToBeSelected:12})}}function oe(e){if(e.specificTarget){let t;e.setFirst&&e.setFirst(),t="true"===e.changeValue||"false"!==e.changeValue&&(Array.isArray(e.changeValue)&&1===e.changeValue.length?e.changeValue.join("|"):e.changeValue?e.changeValue:"");let n=!1;e.specificTarget.includes("|")&&(n=!0);let i,a=e.selected;a&&(a=a.split(","),Array.isArray(a)&&a.includes(e.filterValue)&&(i=!0));const c=e.termCounter?.[e.filterValue];"buttonmultiple"!==e.type&&"filtercheckbox"!==e.type||0==c&&c?i?l({id:e.filterQueryID,objectPath:n,param:e.specificTarget}):r({id:e.filterQueryID,objectPath:n,param:e.specificTarget,value:t,originalParam:e.target,filterDefaults:e.filterDefaults}):i&&a&&1===a.length&&a[0]===e.filterValue?l({id:e.filterQueryID,objectPath:n,param:e.specificTarget}):r({id:e.filterQueryID,objectPath:n,param:e.specificTarget,value:t,originalParam:e.target,filterDefaults:e.filterDefaults})}}function ue(e,t,l){let r;return e.filters&&e.filters[e.filterQueryID]&&Object.entries(e.filters).forEach((e=>{e[1]&&Object.entries(e[1]).forEach((n=>{t===n[1].filterTarget&&("userinput"===n[1].filterSource?r=l:"static"===n[1].filterSource?n[1].filterStaticData&&n[1].filterStaticData.forEach((e=>{l===e.value&&e.label&&(r=e.label)})):"dynamic"===n[1].filterSource&&n[1].dynamicFields&&n[1].dynamicFields.length&&(e[1]&&Object.entries(e[1]).forEach((e=>{e[1].filterTarget===t&&e[1].dynamicFields.forEach((e=>{e[n[1].filterTaxField]&&e[n[1].filterTaxField]==l&&(r=e.name)}))})),r||n[1].dynamicFields.forEach((e=>{l===e.slug&&e.name&&(r=e.name)}))))}))})),r}function fe(e,t,l){const r=e.slice();return r[48]=t[l],r[50]=l,r}function de(e,t,l){const r=e.slice();return r[52]=t[l],r[50]=l,r}function me(e,t,l){const r=e.slice();return r[48]=t[l],r[50]=l,r}function pe(e,t,l){const r=e.slice();return r[48]=t[l],r[50]=l,r}function ge(e,t,l){const r=e.slice();return r[48]=t[l],r[50]=l,r}function ye(e,t,l){const r=e.slice();return r[44]=t[l],r[46]=l,r}function he(e,t,l){const r=e.slice();return r[44]=t[l],r[46]=l,r}function $e(e){let t,l,r,n,i,a=e[4]&&e[4].length&&xe(e);return{c(){t=B("button"),a&&a.c(),W(t,"type","button"),W(t,"class","cc-filter-clear"),W(t,"aria-label","Clear Filtering"),t.disabled=l=!e[26]||null},m(l,c){Q(l,t,c),a&&a.m(t,null),r=!0,n||(i=X(t,"click",e[42]),n=!0)},p(e,n){e[4]&&e[4].length?a?(a.p(e,n),16&n[0]&&q(a,1)):(a=xe(e),a.c(),q(a,1),a.m(t,null)):a&&(j(),E(a,1,1,(()=>{a=null})),J()),(!r||67108864&n[0]&&l!==(l=!e[26]||null))&&(t.disabled=l)},i(e){r||(q(a),r=!0)},o(e){E(a),r=!1},d(e){e&&K(t),a&&a.d(),n=!1,i()}}}function De(e){let t,l,r=_(e[21]),n=[];for(let t=0;t<r.length;t+=1)n[t]=Ne(de(e,r,t));const i=e=>E(n[e],1,1,(()=>{n[e]=null}));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,r){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,r);Q(e,t,r),l=!0},p(e,l){if(3224048&l[0]){let a;for(r=_(e[21]),a=0;a<r.length;a+=1){const i=de(e,r,a);n[a]?(n[a].p(i,l),q(n[a],1)):(n[a]=Ne(i),n[a].c(),q(n[a],1),n[a].m(t.parentNode,t))}for(j(),a=r.length;a<n.length;a+=1)i(a);J()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)q(n[e]);l=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)E(n[e]);l=!1},d(e){e&&K(t),H(n,e)}}}function Te(e){let t,l,r=e[4]&&e[4].length&&Pe(e);return{c(){r&&r.c(),t=N()},m(e,n){r&&r.m(e,n),Q(e,t,n),l=!0},p(e,l){e[4]&&e[4].length?r?(r.p(e,l),16&l[0]&&q(r,1)):(r=Pe(e),r.c(),q(r,1),r.m(t.parentNode,t)):r&&(j(),E(r,1,1,(()=>{r=null})),J())},i(e){l||(q(r),l=!0)},o(e){E(r),l=!1},d(e){e&&K(t),r&&r.d(e)}}}function Ie(e){let t,l,r,n,i,a,c,s,o=e[4]&&e[4].length&&qe(e);return{c(){t=B("button"),o&&o.c(),W(t,"type","button"),W(t,"aria-disabled",l=!!e[29]||null),t.disabled=r=!!e[29]||null,W(t,"aria-pressed",e[31]),W(t,"tabindex",n=e[1]?e[31]?0:-1:e[28]?0:-1),W(t,"class",i=`cc-filter-item${e[31]?" selected":""}${e[29]?" disabled":""}`),W(t,"style",e[25])},m(l,r){Q(l,t,r),o&&o.m(t,null),a=!0,c||(s=X(t,"click",e[38]),c=!0)},p(e,c){e[4]&&e[4].length?o?(o.p(e,c),16&c[0]&&q(o,1)):(o=qe(e),o.c(),q(o,1),o.m(t,null)):o&&(j(),E(o,1,1,(()=>{o=null})),J()),(!a||536870912&c[0]&&l!==(l=!!e[29]||null))&&W(t,"aria-disabled",l),(!a||536870912&c[0]&&r!==(r=!!e[29]||null))&&(t.disabled=r),(!a||1&c[1])&&W(t,"aria-pressed",e[31]),(!a||268435458&c[0]|1&c[1]&&n!==(n=e[1]?e[31]?0:-1:e[28]?0:-1))&&W(t,"tabindex",n),(!a||536870912&c[0]|1&c[1]&&i!==(i=`cc-filter-item${e[31]?" selected":""}${e[29]?" disabled":""}`))&&W(t,"class",i),(!a||33554432&c[0])&&W(t,"style",e[25])},i(e){a||(q(o),a=!0)},o(e){E(o),a=!1},d(e){e&&K(t),o&&o.d(),c=!1,s()}}}function be(e){let t,l,r,n,i,a,c,s=e[17]&&Ke(e);const o=[_e,Le],u=[];function f(e,t){return"dynamic"===e[6]?0:"static"===e[6]?1:-1}return~(r=f(e))&&(n=u[r]=o[r](e)),{c(){t=B("select"),s&&s.c(),l=N(),n&&n.c()},m(n,o){Q(n,t,o),s&&s.m(t,null),V(t,l),~r&&u[r].m(t,null),i=!0,a||(c=X(t,"change",e[37]),a=!0)},p(e,i){e[17]?s?s.p(e,i):(s=Ke(e),s.c(),s.m(t,l)):s&&(s.d(1),s=null);let a=r;r=f(e),r===a?~r&&u[r].p(e,i):(n&&(j(),E(u[a],1,1,(()=>{u[a]=null})),J()),~r?(n=u[r],n?n.p(e,i):(n=u[r]=o[r](e),n.c()),q(n,1),n.m(t,null)):n=null)},i(e){i||(q(n),i=!0)},o(e){E(n),i=!1},d(e){e&&K(t),s&&s.d(),~r&&u[r].d(),a=!1,c()}}}function xe(e){let t,l,r=_(e[4]),n=[];for(let t=0;t<r.length;t+=1)n[t]=ve(fe(e,r,t));const i=e=>E(n[e],1,1,(()=>{n[e]=null}));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,r){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,r);Q(e,t,r),l=!0},p(e,l){if(65968&l[0]){let a;for(r=_(e[4]),a=0;a<r.length;a+=1){const i=fe(e,r,a);n[a]?(n[a].p(i,l),q(n[a],1)):(n[a]=ve(i),n[a].c(),q(n[a],1),n[a].m(t.parentNode,t))}for(j(),a=r.length;a<n.length;a+=1)i(a);J()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)q(n[e]);l=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)E(n[e]);l=!1},d(e){e&&K(t),H(n,e)}}}function Ce(e){let t,l,r=e[48].innerHTML+"";return{c(){t=new R(!1),l=w(),t.a=l},m(e,n){t.m(r,e,n),Q(e,l,n)},p(e,l){16&l[0]&&r!==(r=e[48].innerHTML+"")&&t.p(r)},i:p,o:p,d(e){e&&(t.d(),K(l))}}}function Fe(e){let t,l;return t=new Z({props:{attributes:e[48],index:e[50],item:{filterType:e[5],filterID:e[7],filterTarget:e[8],filterTaxField:e[16]},general:null,blockContext:null,queryType:null,dynamicData:null}}),{c(){M(t.$$.fragment)},m(e,r){z(t,e,r),l=!0},p(e,l){const r={};16&l[0]&&(r.attributes=e[48]),65952&l[0]&&(r.item={filterType:e[5],filterID:e[7],filterTarget:e[8],filterTaxField:e[16]}),t.$set(r)},i(e){l||(q(t.$$.fragment,e),l=!0)},o(e){E(t.$$.fragment,e),l=!1},d(e){G(t,e)}}}function ve(e){let t,l,r,n,i;const a=[Fe,Ce],c=[];function s(e,l){return 16&l[0]&&(t=null),null==t&&(t=!!e[48].blockName.includes("cwicly")),t?0:1}return l=s(e,[-1,-1]),r=c[l]=a[l](e),{c(){r.c(),n=N()},m(e,t){c[l].m(e,t),Q(e,n,t),i=!0},p(e,t){let i=l;l=s(e,t),l===i?c[l].p(e,t):(j(),E(c[i],1,1,(()=>{c[i]=null})),J(),r=c[l],r?r.p(e,t):(r=c[l]=a[l](e),r.c()),q(r,1),r.m(n.parentNode,n))},i(e){i||(q(r),i=!0)},o(e){E(r),i=!1},d(e){e&&K(n),c[l].d(e)}}}function Se(e){let t,l,r,n,i,a=e[4]&&e[4].length&&ke(e);function c(){return e[41](e[52])}return{c(){t=B("button"),a&&a.c(),l=w(),W(t,"type","button"),W(t,"tabindex",0),W(t,"aria-pressed",""),W(t,"class","cc-filter-selection")},m(e,s){Q(e,t,s),a&&a.m(t,null),V(t,l),r=!0,n||(i=X(t,"click",c),n=!0)},p(r,n){(e=r)[4]&&e[4].length?a?(a.p(e,n),16&n[0]&&q(a,1)):(a=ke(e),a.c(),q(a,1),a.m(t,l)):a&&(j(),E(a,1,1,(()=>{a=null})),J())},i(e){r||(q(a),r=!0)},o(e){E(a),r=!1},d(e){e&&K(t),a&&a.d(),n=!1,i()}}}function ke(e){let t,l,r=_(e[4]),n=[];for(let t=0;t<r.length;t+=1)n[t]=Oe(me(e,r,t));const i=e=>E(n[e],1,1,(()=>{n[e]=null}));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,r){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,r);Q(e,t,r),l=!0},p(e,l){if(2163184&l[0]){let a;for(r=_(e[4]),a=0;a<r.length;a+=1){const i=me(e,r,a);n[a]?(n[a].p(i,l),q(n[a],1)):(n[a]=Oe(i),n[a].c(),q(n[a],1),n[a].m(t.parentNode,t))}for(j(),a=r.length;a<n.length;a+=1)i(a);J()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)q(n[e]);l=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)E(n[e]);l=!1},d(e){e&&K(t),H(n,e)}}}function Be(e){let t,l,r=e[48].innerHTML+"";return{c(){t=new R(!1),l=w(),t.a=l},m(e,n){t.m(r,e,n),Q(e,l,n)},p(e,l){16&l[0]&&r!==(r=e[48].innerHTML+"")&&t.p(r)},i:p,o:p,d(e){e&&(t.d(),K(l))}}}function we(e){let t,l;return t=new Z({props:{attributes:e[48],index:e[50],item:{filterType:e[5],filterID:e[7],filterTarget:e[8],selection:e[52],filterTaxField:e[16]},general:null,blockContext:null,queryType:null,dynamicData:null,filterSource:e[6]}}),{c(){M(t.$$.fragment)},m(e,r){z(t,e,r),l=!0},p(e,l){const r={};16&l[0]&&(r.attributes=e[48]),2163104&l[0]&&(r.item={filterType:e[5],filterID:e[7],filterTarget:e[8],selection:e[52],filterTaxField:e[16]}),64&l[0]&&(r.filterSource=e[6]),t.$set(r)},i(e){l||(q(t.$$.fragment,e),l=!0)},o(e){E(t.$$.fragment,e),l=!1},d(e){G(t,e)}}}function Oe(e){let t,l,r,n,i;const a=[we,Be],c=[];function s(e,l){return 16&l[0]&&(t=null),null==t&&(t=!!e[48].blockName.includes("cwicly")),t?0:1}return l=s(e,[-1,-1]),r=c[l]=a[l](e),{c(){r.c(),n=N()},m(e,t){c[l].m(e,t),Q(e,n,t),i=!0},p(e,t){let i=l;l=s(e,t),l===i?c[l].p(e,t):(j(),E(c[i],1,1,(()=>{c[i]=null})),J(),r=c[l],r?r.p(e,t):(r=c[l]=a[l](e),r.c()),q(r,1),r.m(n.parentNode,n))},i(e){i||(q(r),i=!0)},o(e){E(r),i=!1},d(e){e&&K(n),c[l].d(e)}}}function Ne(e){let t,l,r=e[52].name&&Se(e);return{c(){r&&r.c(),t=N()},m(e,n){r&&r.m(e,n),Q(e,t,n),l=!0},p(e,l){e[52].name?r?(r.p(e,l),2097152&l[0]&&q(r,1)):(r=Se(e),r.c(),q(r,1),r.m(t.parentNode,t)):r&&(j(),E(r,1,1,(()=>{r=null})),J())},i(e){l||(q(r),l=!0)},o(e){E(r),l=!1},d(e){e&&K(t),r&&r.d(e)}}}function Pe(e){let t,l,r=_(e[4]),n=[];for(let t=0;t<r.length;t+=1)n[t]=Ae(pe(e,r,t));const i=e=>E(n[e],1,1,(()=>{n[e]=null}));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,r){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,r);Q(e,t,r),l=!0},p(e,l){if(820735&l[0]){let a;for(r=_(e[4]),a=0;a<r.length;a+=1){const i=pe(e,r,a);n[a]?(n[a].p(i,l),q(n[a],1)):(n[a]=Ae(i),n[a].c(),q(n[a],1),n[a].m(t.parentNode,t))}for(j(),a=r.length;a<n.length;a+=1)i(a);J()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)q(n[e]);l=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)E(n[e]);l=!1},d(e){e&&K(t),H(n,e)}}}function Qe(e){let t;return{c(){t=B("div"),t.textContent="not cwicly block"},m(e,l){Q(e,t,l)},p:p,i:p,o:p,d(e){e&&K(t)}}}function Ve(e){let t,l;return t=new Z({props:{attributes:e[48],index:e[50],item:{filter:e[0],filterType:e[5],filterID:e[7],itemscount:e[2]?.[e[0].value],filterTarget:e[8]},general:null,blockContext:null,queryType:null,dynamicData:null,filterSource:e[6],selected:e[1],filterDataType:e[15]}}),t.$on("filteruserinput",(function(...t){return e[39](e[48],...t)})),t.$on("rangeselectchange",e[40]),{c(){M(t.$$.fragment)},m(e,r){z(t,e,r),l=!0},p(l,r){e=l;const n={};16&r[0]&&(n.attributes=e[48]),421&r[0]&&(n.item={filter:e[0],filterType:e[5],filterID:e[7],itemscount:e[2]?.[e[0].value],filterTarget:e[8]}),64&r[0]&&(n.filterSource=e[6]),2&r[0]&&(n.selected=e[1]),32768&r[0]&&(n.filterDataType=e[15]),t.$set(n)},i(e){l||(q(t.$$.fragment,e),l=!0)},o(e){E(t.$$.fragment,e),l=!1},d(e){G(t,e)}}}function Ae(e){let t,l,r,n,i;const a=[Ve,Qe],c=[];function s(e,l){return 16&l[0]&&(t=null),null==t&&(t=!!e[48].blockName.includes("cwicly")),t?0:1}return l=s(e,[-1,-1]),r=c[l]=a[l](e),{c(){r.c(),n=N()},m(e,t){c[l].m(e,t),Q(e,n,t),i=!0},p(e,t){let i=l;l=s(e,t),l===i?c[l].p(e,t):(j(),E(c[i],1,1,(()=>{c[i]=null})),J(),r=c[l],r?r.p(e,t):(r=c[l]=a[l](e),r.c()),q(r,1),r.m(n.parentNode,n))},i(e){i||(q(r),i=!0)},o(e){E(r),i=!1},d(e){e&&K(n),c[l].d(e)}}}function qe(e){let t,l,r=_(e[4]),n=[];for(let t=0;t<r.length;t+=1)n[t]=Je(ge(e,r,t));const i=e=>E(n[e],1,1,(()=>{n[e]=null}));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,r){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,r);Q(e,t,r),l=!0},p(e,l){if(437&l[0]){let a;for(r=_(e[4]),a=0;a<r.length;a+=1){const i=ge(e,r,a);n[a]?(n[a].p(i,l),q(n[a],1)):(n[a]=Je(i),n[a].c(),q(n[a],1),n[a].m(t.parentNode,t))}for(j(),a=r.length;a<n.length;a+=1)i(a);J()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)q(n[e]);l=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)E(n[e]);l=!1},d(e){e&&K(t),H(n,e)}}}function je(e){let t;return{c(){t=B("div"),t.textContent="not cwicly block"},m(e,l){Q(e,t,l)},p:p,i:p,o:p,d(e){e&&K(t)}}}function Ee(e){let t,l;return t=new Z({props:{attributes:e[48],index:e[50],item:{filter:e[0],filterType:e[5],filterID:e[7],itemscount:e[2]?.[e[0].value],filterTarget:e[8]},general:null,blockContext:null,queryType:null,dynamicData:null}}),{c(){M(t.$$.fragment)},m(e,r){z(t,e,r),l=!0},p(e,l){const r={};16&l[0]&&(r.attributes=e[48]),421&l[0]&&(r.item={filter:e[0],filterType:e[5],filterID:e[7],itemscount:e[2]?.[e[0].value],filterTarget:e[8]}),t.$set(r)},i(e){l||(q(t.$$.fragment,e),l=!0)},o(e){E(t.$$.fragment,e),l=!1},d(e){G(t,e)}}}function Je(e){let t,l,r,n,i;const a=[Ee,je],c=[];function s(e,l){return 16&l[0]&&(t=null),null==t&&(t=!!e[48].blockName.includes("cwicly")),t?0:1}return l=s(e,[-1,-1]),r=c[l]=a[l](e),{c(){r.c(),n=N()},m(e,t){c[l].m(e,t),Q(e,n,t),i=!0},p(e,t){let i=l;l=s(e,t),l===i?c[l].p(e,t):(j(),E(c[i],1,1,(()=>{c[i]=null})),J(),r=c[l],r?r.p(e,t):(r=c[l]=a[l](e),r.c()),q(r,1),r.m(n.parentNode,n))},i(e){i||(q(r),i=!0)},o(e){E(r),i=!1},d(e){e&&K(n),c[l].d(e)}}}function Ke(e){let l,r,n=[e[27],{__value:""}],i={};for(let e=0;e<n.length;e+=1)i=t(i,n[e]);return{c(){l=B("option"),r=O(e[17]),P(l,i)},m(e,t){Q(e,l,t),V(l,r)},p(e,t){131072&t[0]&&Y(r,e[17],i.contenteditable),P(l,i=A(n,[134217728&t[0]&&e[27],{__value:""}]))},d(e){e&&K(l)}}}function Le(e){let t,l,r=_(e[14]),n=[];for(let t=0;t<r.length;t+=1)n[t]=He(ye(e,r,t));const i=e=>E(n[e],1,1,(()=>{n[e]=null}));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,r){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,r);Q(e,t,r),l=!0},p(e,l){if(149518&l[0]){let a;for(r=_(e[14]),a=0;a<r.length;a+=1){const i=ye(e,r,a);n[a]?(n[a].p(i,l),q(n[a],1)):(n[a]=He(i),n[a].c(),q(n[a],1),n[a].m(t.parentNode,t))}for(j(),a=r.length;a<n.length;a+=1)i(a);J()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)q(n[e]);l=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)E(n[e]);l=!1},d(e){e&&K(t),H(n,e)}}}function _e(e){let t,l,r=_(e[24]),n=[];for(let t=0;t<r.length;t+=1)n[t]=Me(he(e,r,t));const i=e=>E(n[e],1,1,(()=>{n[e]=null}));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,r){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,r);Q(e,t,r),l=!0},p(e,l){if(16975886&l[0]){let a;for(r=_(e[24]),a=0;a<r.length;a+=1){const i=he(e,r,a);n[a]?(n[a].p(i,l),q(n[a],1)):(n[a]=Me(i),n[a].c(),q(n[a],1),n[a].m(t.parentNode,t))}for(j(),a=r.length;a<n.length;a+=1)i(a);J()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)q(n[e]);l=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)E(n[e]);l=!1},d(e){e&&K(t),H(n,e)}}}function He(e){let t,l;return t=new se({props:{hasToBeSelected:0===e[46]&&!e[1]&&!e[17],childIndex:null,selected:e[1],selectOption:e[44],termCounter:e[2],groupTabIndex:e[3],filterCountItems:e[11]}}),{c(){M(t.$$.fragment)},m(e,r){z(t,e,r),l=!0},p(e,l){const r={};131074&l[0]&&(r.hasToBeSelected=0===e[46]&&!e[1]&&!e[17]),2&l[0]&&(r.selected=e[1]),16384&l[0]&&(r.selectOption=e[44]),4&l[0]&&(r.termCounter=e[2]),8&l[0]&&(r.groupTabIndex=e[3]),2048&l[0]&&(r.filterCountItems=e[11]),t.$set(r)},i(e){l||(q(t.$$.fragment,e),l=!0)},o(e){E(t.$$.fragment,e),l=!1},d(e){G(t,e)}}}function Me(e){let t,l;return t=new se({props:{hasToBeSelected:0===e[46]&&!e[1]&&!e[17],childIndex:null,selected:e[1],selectOption:e[44],termCounter:e[2],groupTabIndex:e[3],filterCountItems:e[11],filterTaxField:e[16]}}),{c(){M(t.$$.fragment)},m(e,r){z(t,e,r),l=!0},p(e,l){const r={};131074&l[0]&&(r.hasToBeSelected=0===e[46]&&!e[1]&&!e[17]),2&l[0]&&(r.selected=e[1]),16777216&l[0]&&(r.selectOption=e[44]),4&l[0]&&(r.termCounter=e[2]),8&l[0]&&(r.groupTabIndex=e[3]),2048&l[0]&&(r.filterCountItems=e[11]),65536&l[0]&&(r.filterTaxField=e[16]),t.$set(r)},i(e){l||(q(t.$$.fragment,e),l=!0)},o(e){E(t.$$.fragment,e),l=!1},d(e){G(t,e)}}}function ze(e){let t,l,r,n;const i=[be,Ie,Te,De,$e],a=[];function c(e,t){return"select"===e[5]?0:"buttonsingle"===e[5]||"buttonmultiple"===e[5]?1:"custom"===e[5]||"rangeselection"===e[5]?2:"userselection"===e[5]&&e[21]&&e[21].length?3:"clearselection"===e[5]&&e[26]?4:-1}return~(t=c(e))&&(l=a[t]=i[t](e)),{c(){l&&l.c(),r=N()},m(e,l){~t&&a[t].m(e,l),Q(e,r,l),n=!0},p(e,n){let s=t;t=c(e),t===s?~t&&a[t].p(e,n):(l&&(j(),E(a[s],1,1,(()=>{a[s]=null})),J()),~t?(l=a[t],l?l.p(e,n):(l=a[t]=i[t](e),l.c()),q(l,1),l.m(r.parentNode,r)):l=null)},i(e){n||(q(l),n=!0)},o(e){E(l),n=!1},d(e){e&&K(r),~t&&a[t].d(e)}}}function Ge(e,t,p){let g,y,h,$,D,T;o(e,u,(e=>p(22,D=e))),o(e,f,(e=>p(23,T=e)));let I,b,x,C,{dynamicField:F}=t,{dynamicFields:v}=t,{selected:S}=t,{termCounter:k}=t,{groupTabIndex:B}=t,{innerBlocks:w}=t,{type:O}=t,{filterSource:N}=t,{filterQueryID:P}=t,{filterBlockID:Q}=t,{specificTarget:V}=t,{termsCount:A}=t,{target:q}=t,{filterCountItems:j}=t,{params:E}=t,{queryArgs:J}=t,{staticData:K}=t,{filterDataType:L}=t,{filterTaxField:_}=t,{filterPlaceholder:H}=t,{filterDefaults:M}=t,{setFirst:z}=t,{selectionKey:G}=t,{selectionValue:R}=t;U((()=>{"buttonsingle"!==O&&"buttonmultiple"!==O||F.value||(_&&F[_]?p(0,F.value=F[_],F):F.value||p(0,F.value=F.slug,F))})),"buttonsingle"!==O&&"buttonmultiple"!==O||(x=function(e){let t="";return e.wooColor&&(t+=`--cc-wac:${e.wooColor};`),e.wooImage&&(t+=`--background-image:url("${e.wooImage}");`),t}(F));let W,X=[],Y={};return e.$$set=e=>{"dynamicField"in e&&p(0,F=e.dynamicField),"dynamicFields"in e&&p(32,v=e.dynamicFields),"selected"in e&&p(1,S=e.selected),"termCounter"in e&&p(2,k=e.termCounter),"groupTabIndex"in e&&p(3,B=e.groupTabIndex),"innerBlocks"in e&&p(4,w=e.innerBlocks),"type"in e&&p(5,O=e.type),"filterSource"in e&&p(6,N=e.filterSource),"filterQueryID"in e&&p(7,P=e.filterQueryID),"filterBlockID"in e&&p(33,Q=e.filterBlockID),"specificTarget"in e&&p(8,V=e.specificTarget),"termsCount"in e&&p(9,A=e.termsCount),"target"in e&&p(10,q=e.target),"filterCountItems"in e&&p(11,j=e.filterCountItems),"params"in e&&p(12,E=e.params),"queryArgs"in e&&p(13,J=e.queryArgs),"staticData"in e&&p(14,K=e.staticData),"filterDataType"in e&&p(15,L=e.filterDataType),"filterTaxField"in e&&p(16,_=e.filterTaxField),"filterPlaceholder"in e&&p(17,H=e.filterPlaceholder),"filterDefaults"in e&&p(18,M=e.filterDefaults),"setFirst"in e&&p(19,z=e.setFirst),"selectionKey"in e&&p(20,G=e.selectionKey),"selectionValue"in e&&p(34,R=e.selectionValue)},e.$$.update=()=>{if(111&e.$$.dirty[0]|2&e.$$.dirty[1]&&("buttonsingle"===O?p(35,b=ee({selected:S,dynamicField:F,termCounter:k,groupTabIndex:B})):"buttonmultiple"===O?p(35,b=te({selected:S,dynamicField:F,termCounter:k,groupTabIndex:B})):"select"===O&&"dynamic"===N&&p(24,I=d(v,"term_id","parent"))),16&e.$$.dirty[1]&&p(31,g=b?.isActive),16&e.$$.dirty[1]&&p(30,y=b?.changeValue),16&e.$$.dirty[1]&&p(29,h=b?.isDisabled),16&e.$$.dirty[1]&&p(28,$=b?.isTabIndex),15728800&e.$$.dirty[0]|44&e.$$.dirty[1]&&"userselection"===O&&(p(36,C=function(e,t){let l;return e.filters&&e.filters[e.filterQueryID]&&Object.entries(e.filters).forEach((r=>{r[1]&&Object.entries(r[1]).forEach((r=>{t===r[1].filterTarget&&r[1].filterQueryID===e.filterQueryID&&(l={type:r[1].filterType,source:r[1].filterSource,show:r[1].filterShowInSelection,prefix:r[1].prefix,suffix:r[1].suffix})}))})),l}({filters:D,filterQueryID:P,filterBlockID:Q},G)),C&&0!=C.show)){if(m({$filters:D,selectionValue:R,selectionKey:G,filterQueryID:P}))X&&X.length>0&&p(21,X=[]);else{let e=C.prefix?C.prefix:"",t=C.suffix?C.suffix:"";if("rangeselection"===C.type){let l=R.split(",");"dynamic"===C.source&&(CCers.woo&&CCers.woo.currency?"left"===CCers.woo?.currencyPosition?e=CCers.woo.currency:"left_space"===CCers.woo?.currencyPosition?e=`${CCers.woo.currency}&nbsp;`:"right"===CCers.woo?.currencyPosition?t=CCers.woo.currency:"right_space"===CCers.woo?.currencyPosition&&(t=`&nbsp;${CCers.woo.currency}`):e="$"),p(21,X=[{name:`${e}${l[0]}${t}${l[1]?` - ${e}${l[1]}${t}`:""}`,value:""}])}else p(21,X=[]),R.split(",").forEach((l=>{let r;T[G].includes(",")&&"rangeselection"!=C.type&&(r=T[G].split(","),r=r.filter((e=>e!==l)),r=r.join(","));ue({filters:D,filterQueryID:P,filterBlockID:Q},G,l)&&X.push({name:`${e}${ue({filters:D,filterQueryID:P,filterBlockID:Q},G,l)}${t}`,value:r})}))}}13635744&e.$$.dirty[0]|8&e.$$.dirty[1]&&"clearselection"===O&&p(26,W=function(e){if(e.params){const t=n(e),l=i(e);let r=!1;return Object.entries(e.params).forEach((n=>{if(e.urlParams.hasOwnProperty(n[1])&&e.urlParams[n[1]]&&"page"!=n[0]&&"paged"!=n[0]&&!l.includes(n[1])){const l=e.urlParams[n[1]].split(",");t&&t[n[1]]&&t[n[1]].length===l.length&&t[n[1]].every(((e,t)=>l.includes(e)))||(r=!0)}})),r}}({params:E,urlParams:T,$filters:D,selectionValue:R,selectionKey:G,filterQueryID:P})),e.$$.dirty[0],2&e.$$.dirty[0]&&(S||p(27,Y={selected:!0}))},[F,S,k,B,w,O,N,P,V,A,q,j,E,J,K,L,_,H,M,z,G,X,D,T,I,x,W,Y,$,h,y,g,v,Q,R,b,C,e=>oe({filterValue:e.target.value,changeValue:e.target.value,selected:S,type:O,target:q,filterQueryID:P,specificTarget:V||q,termsCount:A,setFirst:z,filterDefaults:M}),()=>oe({filterValue:F.value,changeValue:y,selected:S,type:O,target:q,filterQueryID:P,specificTarget:V,termsCount:A,setFirst:z,filterDefaults:M}),(e,t)=>oe({filterValue:t.detail.text,changeValue:"filtercheckbox"!=e?.attrs?.input?.inputTemplate?t.detail.text:te({selected:S,dynamicField:F,termCounter:k,groupTabIndex:B}).changeValue,selected:S,type:t.detail.inputType,target:q,filterQueryID:P,specificTarget:V||q,setFirst:z,filterDefaults:M}),e=>oe({filterValue:e.detail.text,changeValue:e.detail.text,selected:S,type:e.detail.inputType,target:q,filterQueryID:P,specificTarget:V||q,setFirst:z,filterDefaults:M}),e=>function(e){let t,n=!1,i=a(e.selectionKey,e.params);i&&i.includes("|")&&(n=c(i,e.queryArgs)),t=e.filterNewValue&&e.filterNewValue.includes(",")?e.filterNewValue.split(","):e.filterNewValue,t?r({id:e.filterQueryID,objectPath:n,param:i,value:t}):l({id:e.filterQueryID,objectPath:n,param:i})}({selectionKey:G,params:E,queryArgs:J,filterNewValue:e.value,filterQueryID:P,specificTarget:V}),()=>{var e;s({id:(e={filterQueryID:P,filters:D,urlParams:T}).filterQueryID,filters:e.filters,urlParams:e.urlParams})}]}class Re extends S{constructor(t){super(),k(this,t,Ge,ze,e,{dynamicField:0,dynamicFields:32,selected:1,termCounter:2,groupTabIndex:3,innerBlocks:4,type:5,filterSource:6,filterQueryID:7,filterBlockID:33,specificTarget:8,termsCount:9,target:10,filterCountItems:11,params:12,queryArgs:13,staticData:14,filterDataType:15,filterTaxField:16,filterPlaceholder:17,filterDefaults:18,setFirst:19,selectionKey:20,selectionValue:34},null,[-1,-1])}}function Ue(e,t=!1,l){if(l.filterCountItems&&l.$queries[l.filterQueryID]?.args?.queryargs){const r=l.$queries[l.filterQueryID].args?.params;let n=JSON.parse(JSON.stringify(l.$queries[l.filterQueryID].args.queryargs)),i=a(l.target,r);if(i&&i.includes("|")?b(n,e,i):n[l.target]=t?e:"true"===e||!0===e||"false"!==e&&!1!==e&&e,delete n.limit,delete n.page,delete n.paged,delete n.orderby,delete n.order,n=JSON.stringify(n),l.$termsCount[l.filterQueryID])return l.$termsCount[l.filterQueryID][g(n)]}}function We(e,t,l){const r=e.slice();return r[38]=t[l][0],r[39]=t[l][1],r}function Xe(e,t,l){const r=e.slice();return r[33]=t[l],r}function Ye(e,t,l){const r=e.slice();return r[33]=t[l],r}function Ze(e){let t,l;return t=new Re({props:{params:e[1],queryArgs:null,selectionKey:null,selectionValue:null,dynamicField:null,dynamicFields:null,selected:e[6],termCounter:e[3],groupTabIndex:e[19],innerBlocks:e[8],filterSource:e[12],type:e[13],filterQueryID:e[9],filterBlockID:e[10],specificTarget:e[5],termsCount:v,target:e[11],filterCountItems:e[16],filterTaxField:e[17],setFirst:e[20],filterDefaults:e[4]}}),{c(){M(t.$$.fragment)},m(e,r){z(t,e,r),l=!0},p(e,l){const r={};2&l[0]&&(r.params=e[1]),64&l[0]&&(r.selected=e[6]),8&l[0]&&(r.termCounter=e[3]),32&l[0]&&(r.specificTarget=e[5]),16&l[0]&&(r.filterDefaults=e[4]),t.$set(r)},i(e){l||(q(t.$$.fragment,e),l=!0)},o(e){E(t.$$.fragment,e),l=!1},d(e){G(t,e)}}}function et(e){let t,l,r=_(Object.entries(e[2])),n=[];for(let t=0;t<r.length;t+=1)n[t]=rt(We(e,r,t));const i=e=>E(n[e],1,1,(()=>{n[e]=null}));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,r){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,r);Q(e,t,r),l=!0},p(e,l){if(1785854&l[0]){let a;for(r=_(Object.entries(e[2])),a=0;a<r.length;a+=1){const i=We(e,r,a);n[a]?(n[a].p(i,l),q(n[a],1)):(n[a]=rt(i),n[a].c(),q(n[a],1),n[a].m(t.parentNode,t))}for(j(),a=r.length;a<n.length;a+=1)i(a);J()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)q(n[e]);l=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)E(n[e]);l=!1},d(e){e&&K(t),H(n,e)}}}function tt(e){let t,l,r,n;const i=[it,nt],a=[];function c(e,t){return e[0]&&e[0].length||"pricingrange"===e[15]?0:1}return t=c(e),l=a[t]=i[t](e),{c(){l.c(),r=N()},m(e,l){a[t].m(e,l),Q(e,r,l),n=!0},p(e,n){let s=t;t=c(e),t===s?a[t].p(e,n):(j(),E(a[s],1,1,(()=>{a[s]=null})),J(),l=a[t],l?l.p(e,n):(l=a[t]=i[t](e),l.c()),q(l,1),l.m(r.parentNode,r))},i(e){n||(q(l),n=!0)},o(e){E(l),n=!1},d(e){e&&K(r),a[t].d(e)}}}function lt(e){let t,l,r,n;const i=[ut,ot],a=[];return t=function(e,t){return"select"===e[13]?0:1}(e),l=a[t]=i[t](e),{c(){l.c(),r=N()},m(e,l){a[t].m(e,l),Q(e,r,l),n=!0},p(e,t){l.p(e,t)},i(e){n||(q(l),n=!0)},o(e){E(l),n=!1},d(e){e&&K(r),a[t].d(e)}}}function rt(e){let t,l;return t=new Re({props:{params:e[1],queryArgs:e[7],dynamicField:null,dynamicFields:null,selectionKey:e[38],selectionValue:e[39],selected:e[6],termCounter:e[3],groupTabIndex:e[19],innerBlocks:e[8],filterSource:e[12],type:e[13],filterQueryID:e[9],filterBlockID:e[10],specificTarget:e[5],termsCount:v,target:e[11],filterCountItems:e[16],filterTaxField:e[17],setFirst:e[20],filterDefaults:e[4]}}),{c(){M(t.$$.fragment)},m(e,r){z(t,e,r),l=!0},p(e,l){const r={};2&l[0]&&(r.params=e[1]),128&l[0]&&(r.queryArgs=e[7]),4&l[0]&&(r.selectionKey=e[38]),4&l[0]&&(r.selectionValue=e[39]),64&l[0]&&(r.selected=e[6]),8&l[0]&&(r.termCounter=e[3]),32&l[0]&&(r.specificTarget=e[5]),16&l[0]&&(r.filterDefaults=e[4]),t.$set(r)},i(e){l||(q(t.$$.fragment,e),l=!0)},o(e){E(t.$$.fragment,e),l=!1},d(e){G(t,e)}}}function nt(e){let t;return{c(){t=B("div"),W(t,"class","cc-loading-skeleton")},m(e,l){Q(e,t,l)},p:p,i:p,o:p,d(e){e&&K(t)}}}function it(e){let t,l,r,n;const i=[ct,at],a=[];return t=function(e,t){return"select"===e[13]||"pricingrange"===e[15]?0:1}(e),l=a[t]=i[t](e),{c(){l.c(),r=N()},m(e,l){a[t].m(e,l),Q(e,r,l),n=!0},p(e,t){l.p(e,t)},i(e){n||(q(l),n=!0)},o(e){E(l),n=!1},d(e){e&&K(r),a[t].d(e)}}}function at(e){let t,l,r=_(e[0]),n=[];for(let t=0;t<r.length;t+=1)n[t]=st(Xe(e,r,t));const i=e=>E(n[e],1,1,(()=>{n[e]=null}));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,r){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,r);Q(e,t,r),l=!0},p(e,l){if(1785721&l[0]){let a;for(r=_(e[0]),a=0;a<r.length;a+=1){const i=Xe(e,r,a);n[a]?(n[a].p(i,l),q(n[a],1)):(n[a]=st(i),n[a].c(),q(n[a],1),n[a].m(t.parentNode,t))}for(j(),a=r.length;a<n.length;a+=1)i(a);J()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)q(n[e]);l=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)E(n[e]);l=!1},d(e){e&&K(t),H(n,e)}}}function ct(e){let t,l;return t=new Re({props:{params:null,queryArgs:null,selectionKey:null,selectionValue:null,dynamicField:null,dynamicFields:e[0],selected:e[6],termCounter:e[3],groupTabIndex:e[19],innerBlocks:e[8],filterSource:e[12],type:e[13],filterQueryID:e[9],filterBlockID:e[10],filterDataType:e[15],specificTarget:e[5],termsCount:v,target:e[11],filterCountItems:e[16],filterTaxField:e[17],filterPlaceholder:e[18],setFirst:e[20],filterDefaults:e[4]}}),{c(){M(t.$$.fragment)},m(e,r){z(t,e,r),l=!0},p(e,l){const r={};1&l[0]&&(r.dynamicFields=e[0]),64&l[0]&&(r.selected=e[6]),8&l[0]&&(r.termCounter=e[3]),32&l[0]&&(r.specificTarget=e[5]),16&l[0]&&(r.filterDefaults=e[4]),t.$set(r)},i(e){l||(q(t.$$.fragment,e),l=!0)},o(e){E(t.$$.fragment,e),l=!1},d(e){G(t,e)}}}function st(e){let t,l;return t=new Re({props:{params:null,queryArgs:null,selectionKey:null,selectionValue:null,dynamicFields:null,dynamicField:e[33],selected:e[6],termCounter:e[3],groupTabIndex:e[19],innerBlocks:e[8],filterSource:e[12],type:e[13],filterQueryID:e[9],filterBlockID:e[10],specificTarget:e[5],termsCount:v,target:e[11],filterCountItems:e[16],filterTaxField:e[17],setFirst:e[20],filterDefaults:e[4]}}),{c(){M(t.$$.fragment)},m(e,r){z(t,e,r),l=!0},p(e,l){const r={};1&l[0]&&(r.dynamicField=e[33]),64&l[0]&&(r.selected=e[6]),8&l[0]&&(r.termCounter=e[3]),32&l[0]&&(r.specificTarget=e[5]),16&l[0]&&(r.filterDefaults=e[4]),t.$set(r)},i(e){l||(q(t.$$.fragment,e),l=!0)},o(e){E(t.$$.fragment,e),l=!1},d(e){G(t,e)}}}function ot(e){let t,l,r=_(e[14]),n=[];for(let t=0;t<r.length;t+=1)n[t]=ft(Ye(e,r,t));const i=e=>E(n[e],1,1,(()=>{n[e]=null}));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,r){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,r);Q(e,t,r),l=!0},p(e,l){if(1671032&l[0]){let a;for(r=_(e[14]),a=0;a<r.length;a+=1){const i=Ye(e,r,a);n[a]?(n[a].p(i,l),q(n[a],1)):(n[a]=ft(i),n[a].c(),q(n[a],1),n[a].m(t.parentNode,t))}for(j(),a=r.length;a<n.length;a+=1)i(a);J()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)q(n[e]);l=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)E(n[e]);l=!1},d(e){e&&K(t),H(n,e)}}}function ut(e){let t,l;return t=new Re({props:{params:null,queryArgs:null,selectionKey:null,selectionValue:null,dynamicField:null,staticData:e[14],selected:e[6],termCounter:e[3],groupTabIndex:e[19],innerBlocks:e[8],filterSource:e[12],type:e[13],filterQueryID:e[9],filterBlockID:e[10],specificTarget:e[5],termsCount:v,target:e[11],filterCountItems:e[16],filterPlaceholder:e[18],setFirst:e[20],filterDefaults:e[4]}}),{c(){M(t.$$.fragment)},m(e,r){z(t,e,r),l=!0},p(e,l){const r={};64&l[0]&&(r.selected=e[6]),8&l[0]&&(r.termCounter=e[3]),32&l[0]&&(r.specificTarget=e[5]),16&l[0]&&(r.filterDefaults=e[4]),t.$set(r)},i(e){l||(q(t.$$.fragment,e),l=!0)},o(e){E(t.$$.fragment,e),l=!1},d(e){G(t,e)}}}function ft(e){let t,l;return t=new Re({props:{params:null,queryArgs:null,selectionKey:null,selectionValue:null,dynamicFields:null,dynamicField:e[33],selected:e[6],termCounter:e[3],groupTabIndex:e[19],innerBlocks:e[8],filterSource:e[12],type:e[13],filterQueryID:e[9],filterBlockID:e[10],specificTarget:e[5],termsCount:v,target:e[11],filterCountItems:e[16],setFirst:e[20],filterDefaults:e[4]}}),{c(){M(t.$$.fragment)},m(e,r){z(t,e,r),l=!0},p(e,l){const r={};64&l[0]&&(r.selected=e[6]),8&l[0]&&(r.termCounter=e[3]),32&l[0]&&(r.specificTarget=e[5]),16&l[0]&&(r.filterDefaults=e[4]),t.$set(r)},i(e){l||(q(t.$$.fragment,e),l=!0)},o(e){E(t.$$.fragment,e),l=!1},d(e){G(t,e)}}}function dt(e){let t,l,r,n;const i=[lt,tt,et,Ze],a=[];return~(t=function(e,t){return"static"===e[12]&&e[14]&&e[14].length?0:"dynamic"===e[12]?1:"userselection"===e[13]?2:"clearselection"===e[13]||"rangeselection"===e[13]||"userinput"===e[12]&&"custom"===e[13]?3:-1}(e))&&(l=a[t]=i[t](e)),{c(){l&&l.c(),r=N()},m(e,l){~t&&a[t].m(e,l),Q(e,r,l),n=!0},p(e,t){l&&l.p(e,t)},i(e){n||(q(l),n=!0)},o(e){E(l),n=!1},d(e){e&&K(r),~t&&a[t].d(e)}}}function mt(e,t,l){let r,n,i,c,s,d,m,p,b,S;o(e,y,(e=>l(25,s=e))),o(e,v,(e=>l(26,d=e))),o(e,x,(e=>l(27,m=e))),o(e,f,(e=>l(2,p=e))),o(e,F,(e=>l(28,b=e))),o(e,h,(e=>l(29,S=e)));let{filter:k}=t,{filterBlocksLength:B}=t,{index:w}=t;const O=k.attrs.filter,N=k.innerBlocks,P=O.filterQueryID,Q=O.blockId,V=O.filterTarget,A=O.filterSource,q=O.filterType,j=O.filterStaticData,E=O.filterData,J=O.filterDataType,K=O.filterCountItems,L=O.filterTaxField,_=O.filterPlaceholder;let H,M,z,G,R=(W=!1,function(){var e;W||(W=!0,e={filterQueryID:P,$apiParams:S},e.$apiParams?.terms&&Object.keys(e.$apiParams.terms).length>0&&Object.keys(e.$apiParams.terms).forEach((t=>{const l=g(JSON.stringify(e.$apiParams.terms[t]));$(l)||(D(l),T("cwicly/v1/terms_col",{termsCol:JSON.stringify(e.$apiParams.terms[t]),hash:l},"GET").then((e=>{y.update((t=>({...JSON.parse(JSON.stringify(t)),...e}))),I(l)})))})))});var W;function X(){m[P]?.isLoaded?.includes(V)||x.update((e=>{const t=JSON.parse(JSON.stringify(e));return t[P]?.isLoaded?t[P].isLoaded.push(V):t[P].isLoaded=[V],t}))}return U((()=>{const e=function(e){if("dynamic"===e.source){let t,l;if(e.filterDataType&&"taxonomy"===e.filterDataType&&e.filterData){const r={taxonomy:[]};e.filterData.forEach((e=>{e.value&&r.taxonomy.push(e.value)})),r.taxonomy=JSON.stringify(r.taxonomy),e.filterProps.filterInclude&&(r.include=[],e.filterProps.filterInclude.forEach((e=>{e.value&&r.include.push(e.value)}))),e.filterProps.filterExclude&&(r.exclude=[],e.filterProps.filterExclude.forEach((e=>{e.value&&r.exclude.push(e.value)}))),e.filterProps.filterOrderBy&&(r.orderby=e.filterProps.filterOrderBy),e.filterProps.filterOrder&&(r.order=e.filterProps.filterOrder&&e.filterProps.filterOrder.toLowerCase()),e.filterProps.filterChildless&&(r.childless=!0),e.filterProps.filterHideEmpty&&(r.hide_empty=!0);const n=g(JSON.stringify(r));t=n,y&&y[n]&&!e.dynamicFields.length?l=h.terms[e.filterQueryID][g(JSON.stringify(r))]:h.update((t=>{const l=JSON.parse(JSON.stringify(t));return l.terms[e.filterQueryID]?l.terms[e.filterQueryID][n]=r:l.terms[e.filterQueryID]={[n]:r},l}))}return{termsArgs:t,dynamicFields:l}}}({source:A,filterQueryID:P,filterDataType:J,filterData:E,filterProps:O,dynamicFields:M});if(l(24,H=e?.termsArgs),l(0,M=e?.dynamicFields),C(F,b+=1,b),"static"===A)j&&l(4,G=j.filter((e=>e.default)).map((e=>e.value)));else if("dynamic"===A&&O.filterDynamicDefaults){let e;O.filterTaxField&&(e=O.filterTaxField),l(4,G=O.filterDynamicDefaults.map((t=>e?t.value[e]:t.value.slug)))}})),e.$$set=e=>{"filter"in e&&l(21,k=e.filter),"filterBlocksLength"in e&&l(22,B=e.filterBlocksLength),"index"in e&&l(23,w=e.index)},e.$$.update=()=>{if(281018368&e.$$.dirty[0]&&B===w+1&&b===B&&R(),134217728&e.$$.dirty[0]&&l(1,r=m[P]?.args?.params),134217728&e.$$.dirty[0]&&l(7,n=m[P]?.args?.queryargs),134217732&e.$$.dirty[0]&&l(6,i=function(e,t,l,r,n,i){let a;if(t&&Object.entries(t).forEach((t=>{t[0]===e&&(i(),a=t[1])})),!a&&!r?.[n]?.isLoaded?.includes(e)&&l){if(a=[],l&&"static"===l.filterSource)l?.filterStaticData&&l.filterStaticData.forEach((e=>{e.default&&a.push(e.value)}));else if(l&&"dynamic"===l.filterSource&&l?.filterDynamicDefaults){let e;l.filterTaxField&&(e=l.filterTaxField),l.filterDynamicDefaults.forEach((t=>{const l=e?t.value[e]:t.value.slug;a.push(l)}))}a=a.toString()}return a}(V,p,O,m,P,X)),2&e.$$.dirty[0]&&l(5,c=a(V,r)),52428800&e.$$.dirty[0]&&s[H]){let e;s[H]instanceof Object?(l(0,M=Object.values(s[H])),e=Object.values(s[H])):(l(0,M=s[H]),e=s[H]),u.update((t=>{const l=JSON.parse(JSON.stringify(t));return l[P]&&l[P][k.id]&&(l[P][k.id].dynamicFields=e),l}))}201326593&e.$$.dirty[0]&&l(3,z=function(e){if("static"===e.source&&e.staticData&&e.staticData.length){const t={};return e.staticData.map((l=>{const r=Ue(l.value,!1,e);(r||0===r)&&(t[l.id]=r)})),t}if("dynamic"===e.source&&e.dynamicFields&&e.dynamicFields.length){const t={};return e.dynamicFields.map((l=>{const r=Ue(l.slug,!0,e);(r||0===r)&&(t[l.slug]=r)})),t}}({source:A,target:V,staticData:j,dynamicFields:M,filterQueryID:P,filterCountItems:K,$queries:m,$termsCount:d}))},[M,r,p,z,G,c,i,n,N,P,Q,V,A,q,j,J,K,L,_,undefined,X,k,B,w,H,s,d,m,b]}class pt extends S{constructor(t){super(),k(this,t,mt,dt,e,{filter:21,filterBlocksLength:22,index:23},null,[-1,-1])}}export{pt as default};
