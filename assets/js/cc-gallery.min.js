function cc_gallery_masoner(e){"bestfit"===e.getAttribute("data-masonry-layout")?galleryMakerVertical(e):galleryMaker(e)}function cc_gallery_load(){const e=document.querySelectorAll("[data-ccgallerymason=masonry]");e.length&&e.forEach(function(e){galleryButtonMaker(e,!0),cc_gallery_masoner(e),e.querySelectorAll("img").forEach(e=>{e.addEventListener("load",function(){var e;"function"==typeof Event?e=new Event("resize"):(e=document.createEvent("Event")).initEvent("resize",!0,!0),window.dispatchEvent(e)},!1)}),window.addEventListener("resize",efficientGallery(e))});const t=document.querySelectorAll("[data-ccgallery]");t.length&&t.forEach(function(e){galleryButtonMaker(e)})}function galleryButtonMaker(e,t=!1){const o=e.querySelectorAll(".cc-gallery-button-filter");o.forEach(function(r){const l=r.dataset.ccfilter;r.addEventListener("click",function(){o.forEach(function(e){e.classList.remove("active")}),r.classList.add("active"),e.querySelectorAll(".cc-gallery-card").forEach(function(e){"all"===l?e.classList.remove("hide"):e.dataset.ccgalleryname!=l?e.classList.add("hide"):e.dataset.ccgalleryname===l&&e.classList.remove("hide")}),t&&cc_gallery_masoner(e)})})}function galleryMaker(e){const t=e.querySelector(".cc-gallery"),o=cc_hasNumbers(getComputedStyle(t).rowGap)?parseFloat(getComputedStyle(t).rowGap):0,r=[...t.childNodes].filter(e=>1===e.nodeType&&!e.classList.contains("hide")),l=getComputedStyle(t).gridTemplateColumns.split(" ").length;r.forEach(e=>e.style.removeProperty("margin-top")),1!==l&&r.forEach(function(e,t){const a=r[t-l];if(!a)return;const n=e.getBoundingClientRect().top-a.getBoundingClientRect().bottom;n!==o&&(e.style.marginTop=`-${n-o}px`)})}function galleryMakerVertical(e){const t=e.querySelector(".cc-gallery"),o=Array.from(t.children).filter(e=>1===e.nodeType&&!e.classList.contains("hide"));o.forEach(e=>{e.style.removeProperty("order"),e.style.removeProperty("margin-top"),e.dataset.position=null}),o.sort((e,t)=>{return e.offsetHeight-t.offsetHeight});const r=Math.floor(t.offsetWidth/o[0].offsetWidth);let l=1,a=1;o.forEach((e,t)=>{e.style.order=t,e.dataset.position=l,(t+1)%r==0?l=++a:l+=r});const n=parseFloat(getComputedStyle(t).rowGap)||0;for(let e=r;e<o.length;e++){const t=o[e],l=o[e-r],a=t.offsetTop-l.offsetTop-l.offsetHeight;a!==n&&(t.style.marginTop=`-${a-n}px`)}}window.addEventListener("load",function(){cc_gallery_load()});const efficientGallery=e=>cc_debounce(()=>{cc_gallery_masoner(e)},250);